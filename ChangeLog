2005-01-15 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/x_term_manager.c (x_term_manager_init): ignore SIGPIPE.
	* inputmethod/uim/im_uim.c: removed a handler for SIGPIPE.

2005-01-13 Seiichi SATO <ssato@sh.rim.or.jp>

	Allow to use static linked IM plugins with libltdl.
	(./configure --disable-shared --enable-static --with-libltdl)

	* configure.in, tool/mlconfig/Makefile.in, xwindow/Makefile.in,
	  contrib/tool/mlterm-zoom/Makefile.in:
	- separated DL_LIBS to DL_LIBS_SB and DL_LIBS_IM.
	- when using libltdl, add "-dlopen /path/to/libim-foo.la" to libtool
	  option.
	- removed DL_SELF (-dlopen self).

	* kiklib/src/kik_dlfcn_ltdl.c (kik_dl_is_module):
	  added check for "la" suffix.

	* tool/mlconfig/mc_im.c: im_get_info --> im_<IMNAME>_get_info
	* xwindow/x_im.c: im_new --> im_<IMNAME>_new

	* inputmethod/kbd/im_kbd.c
	  (im_new): renamed to im_kbd_new.
	  (im_get_info): renamed to im_kbd_get_info.
	* inputmethod/uim/im_uim.c
	  (im_new): renamed to im_uim_new.
	  (im_get_info): renamed to im_uim_get_info.
	* inputmethod/iiimf/im_iiimf.c
	  (im_new): renamed to im_iiimf_new.
	  (im_get_info): renamed to im_iiimf_get_info.
	* inputmethod/m17nlib/im_m17nlib.c
	  (im_new): renamed to im_m17nlib_new.
	  (im_get_info): renamed to im_m17nlib_get_info.

2005-01-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/ja/README.ja: minor cleanup.

2005-01-01 MINAMI Hirokazu <minami@Mistfall.net>

	* xwindow/x_screen.c: BackSpace/Delete couldn't be used
	as a shortcut key. 
	(Thanks to Yusuke Sakai)

2004-12-29 Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in: applied a patch from Ken'ichi Handa.
	<http://sourceforge.net/mailarchive/message.php?msg_id=10412050>

2004-12-22 MINAMI Hirokazu <minami@mistfall.net>

        * configure.in: noted about --with-type-engines in the
	description of --enable-anti-alias to make upgrade easier
	(for lusers).

2004-12-21 MINAMI Hirokazu <minami@mistfall.net>

        * kiklib/src/kik_mem.h: When HAVE_ALLOCA_H was defined,
	alloca.h should be always #include'ed even if __GNUC__ was defined.
	(alloca() may remain undefined otherwise). 
	
2004-12-17 Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/en/PROTOCOL: updated. (#1084176)

2004-12-09 MINAMI Hirokazu <minami@mistfall.net>

	*  minor code cleanup.

2004-12-09 MINAMI Hirokazu <minami@mistfall.net>

	*  mkf/lib/, kiklib/src/kik_debug.c: minor code cleanup.
	
2004-12-09 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/x_im_candidate_screen.c: fixed a syntax error inside #ifndef
	USE_IM_PLUGIN. (Thanks to SHIOTA Shoichi for sending a patch)

2004-12-06 MINAMI Hirokazu <minami@mistfall.net>

	* xwindow/x_window_manager.c: pointer should be initialized by NULL. 
	* xwindow/x_screen.c, xwindow/x_im_candidate_screen.c:
	  minor code cleanup.
	* tools/mlconfig/*.c: use kiklib/*.h instead of standard headers
	  for better memory usage tracking.

2004-12-03 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/w3mmlconfig/Makefile.in: /usr/bin/perl -> @PERL@

2004-11-28 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/version.h.in: 2.9.1 -> 2.9.1 post

2004-11-28 Seiichi SATO <ssato@sh.rim.or.jp>

	* 2.9.1 released.
	  (tag "rel-2_9_1)

	* configure.in, mlterm.spec, xwindow/version.h.in, doc/en/ReleaseNote:
	  updated.

2004-11-27 Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/en/PLATFORM: updated. (Thanks to MURASE, Masaki)

2004-11-25 MINAMI Hirokazu <minami@mistfall.net>

	* tool/mlconfig/mc_im.c: fixed typo.

2004-11-25 MINAMI Hirokazu <minami@mistfall.net>

	* common/c_intl.h: removed "#define const " which seems to be useless.
	* tool/mlconfig/*.c: tried to be -Wall clean.

2004-11-25 Seiichi SATO <ssato@sh.rim.or.jp>

	* mlterm.spec:
	- fixed #1072304
	- FHS compliance

2004-11-21 Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/en/PLATFORM: updated supported platforms.

2004-11-21 Seiichi SATO <ssato@sh.rim.or.jp>

	* mlterm/ml_term_manager.c (sig_child): if(pid == -1) --> if(pid <= 0)

2004-11-21 Seiichi SATO <ssato@sh.rim.or.jp>

	* kiklib/configure.in, kiklib/src/kik_config.h.in: added check for
	stdint.h.

	* inputmethod/iiimf/im_iiimf.c:
	"#define HAVE_STDINT_H 1" -> #include <kiklib/kik_types.h>

2004-11-21 Seiichi SATO <ssato@sh.rim.or.jp>

	Fixed #1069725.
	* kiklib/src/kik_conf.c (kik_conf_parse_args): check whether argc is 0.
	* xwindow/x_term_manager.c (client_connected): argv[argc] = NULL.
	(POSIX exec family style)

	* xwindow/x_screen.c, xwindow/x_im.c:
	screen->input_method=strdup("none"); -> screen->input_method=NULL;

2004-11-19 Seiichi SATO <ssato@sh.rim.or.jp>

	* mkf/lib/Makefile.in, inputmethod/kbd/Makefile.in,
	inputmethod/uim/Makefile.in, inputmethod/iiimf/Makefile.in,
	inputmethod/m17nlib/Makefile.in: Workaround for HP-UX's make.

	;-(
	Makefile.in -- s/@FOO@/foo/g, s/@BAR@//g --> Makefile
	target:                                      target:
	< TAB >@FOO@ \                               < TAB >foo \
	< TAB >@BAR@                                 < TAB >

	:-)
	Makefile.in -- s/@FOO@/foo/g, s/@BAR@//g --> Makefile
	target:                                      target:
	< TAB >@FOO@ @BAR@                           < TAB >foo

	* doc/en/PLATFORM: updated supported platforms.

	* configure, mkf/configure: synchronized with configure.in.

2004-11-18 Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/en/PLATFORM: updated supported platforms.

2004-11-18 MINAMI Hirokazu <minami@mistfall.net>

	* configure.in, mkf/configure.in: added AC_C_INLINE.
	* xwindow/x_window.c: added workaround for
	stupid application which sends Atom "NONE" instead of None.  
	
2004-11-17 Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/en/PLATFORM: updated supported platforms.

2004-11-17 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/version.h.in: 2.9.0 post -> 2.9.1 pre

2004-11-17 MINAMI Hirokazu <minami@mistfall.net>

	* kiklib/src/kik_sig_child.c: changed the handler for SIGCHLD 
	from SIG_IGN to SIG_DFL to be old POSIX compliant.

2004-11-16 Seiichi SATO <ssato@sh.rim.or.jp>

	* mlterm/ml_term_manager.c (sig_child): ignore SIGCHLD from non pty
	  process. (pid == -1)

	* inputmethod/uim/im_uim.c
	  (helper_read_handler): An empty message ("") from helper crased
	  mlterm, fixed.
	  (im_new): removed workaround for SIGCHLD problem with prime.
	  (sig_pipe): New function to handle SIGPIPE from prime.

2004-11-15 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/kbd/Makefile.in: @MKF_LIBS@ -> @MKF_LIBS_FOR_MODULE@

2004-11-14 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/w3mmlconfig/Makefile: moved to...
	* tool/w3mmlconfig/Makefile.in: this for autoconfication.

	* configure.in, tool/w3mmlconfig/mlconfig.cgi.in,
	  tool/w3mmlconfig/w3mmlconfig.in, tool/w3mmlconfig/Makefile.in:
	  autoconfication

2004-11-14 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/w3mmlconfig/mlconfig.cgi.in: ~/.mlterm/challenge support.

	* tool/w3mmlconfig/section/encoding:
	  "xim", "xim_locale" -> "input_method"

2004-11-12 Seiichi SATO <ssato@sh.rim.or.jp>

	* kiklib/src/kik_map.h: An expanded hash table was broken. Fixed.
	  (#1061470)

2004-11-12 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/x_im.c, xwindow/x_im_candidate_screen.c,
	  xwindow/x_im_candidate_screen.h, inputmethod/iiimf/im_iiimf.c,
	  inputmethod/m17nlib/im_m17nlib.c, inputmethod/uim/im_uim.c:
	  allowed to list candidates horizontally.

	* xwindow/x_im.h: increased IM_API_VERSION.

2004-11-07 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c: "None" -> _("None")

2004-11-04 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/x_im.c: don't increase ref_count_uim and ref_count_m17nlib if
	  x_im_new() failed.
	
	* tool/mlconfig/mc_sb_view.c (has_rc_file): I forgot closing dir, fixed.

2004-11-04 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/m17nlib/im_m17nlib.c:
	- - fixed a bug that the last preedit text was not cleared when
	    deactivating the input method. (Thanks to Ken'ichi HANDA)
	    <http://sourceforge.net/mailarchive/message.php?msg_id=9913473>
	  - changed the format in the status window.
	  - minor cleanups.

	* man/mlterm.1: added explanation for keyboard input method to
	  'GUI CONFIGURATOR'.

2004-10-29 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/Makefile.in: -lmkf (required from libim-iiimf.so)

2004-10-29 Seiichi SATO <ssato@sh.rim.or.jp>

	Removed -lkik and -lmkf from linker flag of modules.
	Note: Both libraries are linked if the platform does not support
	undefined symblos such as Cygwin and AIX.

	* configure.in: added MKF_LIBS_FOR_MODULE and KIK_LIBS_FOR_MODULE.

	* inputmethod/kbd/Makefile.in, inputmethod/iiimf/Makefile.in,
	  inputmethod/uim/Makefile.in, inputmethod/m17nlib/Makefile.in:
	  KIK_LIBS -> KIK_LIBS_FOR_MODULE, MKF_LIBS -> MKF_LIBS_FOR_MODULE

	* mkf/configure.in, mkf/lib/Makefile.in: KIK_LDFLAGS -> KIK_LIBS

2004-10-29 Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/ja/README.ja: added description about kbd and m17nlib.

	* configure.in: discontinue if imlib-config is not available.

2004-10-28 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/uim/im_uim.c:
	  - don't send engine_name to helper.
	  - removed engine_name from im_uim_t.
	  - allow to debug using MOD_KEY_DEBUG environment variable.
	    (e.g., MOD_KEY_DEBUG=1 mlterm --im=uim)

2004-10-27 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/m17nlib/im_m17nlib.c (key_event): ingore invalid
	key event. Thanks to Kenichi Handa for report.
	<http://sourceforge.net/mailarchive/message.php?msg_id=9893670>

2004-10-27 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/x_screen.c, xwindow/x_im.c, xwindow/x_im.h,
	  inputmethod/m17nlib/im_m17nlib.c, inputmethod/iiimf/im_iiimf.c,
	  inputmethod/kbd/im_kbd.c:
	  added parameter 'mod_ignore_mask' to x_im_new().

	* inputmethod/uim/im_uim.c: clear pressing_mod_key in focused() and
	  unfocused().

	* xwindow/x_im.h: increased IM_API_VERSION.

2004-10-26 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/m17nlib/im_m17nlib.c:
	  - use EUC-JP instead of EUC-JISX0213 for the internal code convertion.
	  - fixed a segfault with ISO-2022-JP[123].
	  - show error messages if code convertion failed.

2004-10-26 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/iiimf/im_iiimf.c, inputmethod/m17nlib/im_m17nlib.c,
	tool/mlconfig/po/de.po, tool/mlconfig/po/mlconfig.pot,
	tool/mlconfig/po/zh_TW.po, xwindow/x_im.c:
	fixed typo (Cound -> Could).

2004-10-26 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/uim/im_uim.c (key_event): for exact matching mechanism
	in uim_press_key(), if and only if the target modifier key is pressing
	modifier bit will be set. (Thanks to gabor for reporting)

	* doc/en/PLATFORM: updated supported platforms.

2004-10-24 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/version.h.in: 2.9.0 -> 2.9.0 post

2004-10-24 Seiichi SATO <ssato@sh.rim.or.jp>

	* 2.9.0 released.
	  (tag "rel-2_9_0)

	* configure.in, mlterm.spec, xwindow/version.h.in, doc/en/ReleaseNote:
	  updated.

2004-10-24 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/x_window.h (x_window_t):
	  added following dummy members to keep the size of x_winodw_t.
	  - void *  xft_draw; (used if USE_TYPE_XFT is undefined)
	  - void *  dnd; (used if DISABLE_DND is defined)
	  - void *  set_xdnd_config; (used if DISABLE_DND is defined)

	* inputmethod/uim/Makefile.in:
	* inputmethod/iiimf/Makefile.in:
	* inputmethod/m17nlib/Makefile.in:
	* inputmethod/kbd/Makefile.in:
	  removed AA_CFLAGS and DND_CFLAGS.

2004-10-23 Seiichi SATO <ssato@sh.rim.or.jp>

	* README: fixed typo. (for X -> on X)

2004-10-23 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlclient.1: AUTHOR -> CONTACT

2004-10-23 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlterm.1, man/mlclient.1:
	  - fixed typo. (MLTERM -> MLCLIENT)
	  - changed date. (->2004/10/23)

2004-10-23 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlterm.1: fixed typo. (for X -> on X)

2004-10-23 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/x_term_manager.c (open_pty_intern): set COLORFGBG
	  environment variable to "default;default" (hardcorded).

2004-10-23 Seiichi SATO <ssato@sh.rim.or.jp>

	* kiklib/src/kik_pty_streams.c: moved linux specific error message
	  into #ifdef __linux__.

2004-10-23 Seiichi SATO <ssato@sh.rim.or.jp>

	* xwindow/version.h.in: 2.8.0 post -> 2.9.0 pre

2004-10-22 MINAMI Hirokazu <minami@mistfall.net>

        * kiklib/src/kik_net.h: when neither PF_LOCAL nor PF_UNIX was defined, 
	use AF_LOCAL (which may be an alias of AF_UNIX) instead.

2004-10-22 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/uim/im_uim.c:
	  - strlen() -> strlen() + 1
	  - fixed typo in comment.

	* inputmethod/iiimf/im_iiimf.c: strlen_utf16() -> strlen_utf16() + 1

	* inputmethod/m17nlib/im_m17nlib.c: fixed typo in comment.

	* inputmethod/im_common.h: fixed a minor bug.

2004-10-21 Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/en/PLATFORM: updated supported platforms.

2004-10-21 Seiichi SATO <ssato@sh.rim.or.jp>

	* kiklib/src/kik_net.h: defined PF_LOCAL as PF_UNIX on the system which
	  doesn't have PF_LOCAL.

2004-10-21 Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in: removed "echo -n" for portability.

	* doc/ja/BUGS: updated.

	* README, doc/en/PLATFORM: updated supported platforms.

	* inputmethod/uim/im_uim.c (im_new):
	  - added workaround for setlocale() in make_locale() of m17nlib.
	  - save/restore a signal handler for SIGCHLD when prime is specifed.

	* inputmethod/m17nlib/im_m17nlib.c (im_new): added workaround for
	  setlocale() in make_locale() of m17nlib.

	* tool/mlconfig/po/ja.po: updated.

	* man/mlterm.1: minor cleanup.

2004-10-20  Araki Ken  <arakiken@users.sf.net>

	* xwindow/x_shortcut.h: Removed XIM_OPEN XIM_CLOSE from x_key_func.
	  (This bug has broken default shortcut keys.)

2004-10-20 MINAMI Hirokazu <minami@mistfall.net>

        * xwindow/x_term_mmanager.c: fixed typo.

2004-10-18 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlterm.1: conf_menu_path -> conf_menu_path_[123].

2004-10-18 Seiichi SATO <ssato@sh.rim.or.jp>

	* README, doc/en/PLATFORM: updated supported platforms.

2004-10-18 Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in: could not find IIIMF's path (/usr/lib/im/) on Fedora
	  Core 2, fixed.

	* doc/en/PLATFORM: updated supported platforms.

2004-10-17 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/iiimf/im_iiimf.c: minor cleanups.

	* inputmethod/im_common.h: fixed a minor bug.

2004-10-17 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/iiimf/im_iiimf.c: hide a status window when conversion
	  mode is off.

	* configure.in: minor cleanups.

2004-10-17 MINAMI Hirokazu <minami@mistfall.net>

	* doc/term/mlterm.tc: removed.
	* doc/term/README.term: updated.

2004-10-16 Seiichi SATO <ssato@sh.rim.or.jp>

	* README, doc/en/PLATFORM: updated supported platforms.

2004-10-16 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c (is_im_plugin): fixed a stupid bug.
	  (strstr() == 0 -> strstr())

2004-10-15 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c:
	  - removed a workaround for gettext problem in uim, since the problem
	    fixed at uim-0.4.5-beta1.
	  - fixed a bug with 'cyg' prefix for DLL on cygwin.

	* configure.in:
	  - fixed minor bugs in the configuration result message.
	  - added USE_KBD into IM_CFLAGS.

2004-10-14 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_xim.c: fixed a segfault.
	  how to reproduce:
	  1. $ LANG=UNSUPPORTED_LOCALE mlterm --im=foo
	  2. switch input method

2004-10-14 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/m17nlib/im_m17nlib.c (im_new):
	  - fixed a segfault with an invalid parameter.
	    (e.g., --im=m17nlib:non_supported_lang)
	  - minor cleanups.

	* inputmethod/uim/im_uim.c (im_new): allowed --im=uim:

2004-10-13 Seiichi SATO <ssato@sh.rim.or.jp>

	xim could not get the rectangle information of maximized window. fixed.

	* x_window.c (x_window_receive_event): moved x_xic_resized() into...
	* x_screen.c (window_resized): this.

2004-10-13 MINAMI Hirokazu <minami@mistfall.net>

	* man/mlclient.1: Updated.

2004-10-13 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/*/Makefile.in: fixed a stupid bug.
	  (-I${top_builddir}/xwindow -> -I${top_srcdir}/xwindow)

2004-10-12 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_xim.c (search_xim): fixed a bug with multiple displays. (#1034630)

2004-10-11 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/iiimf/im_iiimf.c (im_get_info): fixed a segfault with
	  htt server provided within ATOK X.

2004-10-11 Seiichi SATO <ssato@sh.rim.or.jp>

	I got "YOUR MEMORY MANAGEMENT IS PERFECT!" message from kik_mem by
	these changes:

	* inputmethod/iiimf/Makefile.in, inputmethod/kbd/Makefile.in,
	  inputmethod/m17nlib/Makefile.in, inputmethod/uim/Makefile.in:
	  added DEB_CFLAGS

	* inputmethod/iiimf/im_iiimf.c, inputmethod/kbd/im_kbd.c,
	  inputmethod/m17nlib/im_m17nlib.c, inputmethod/uim/im_uim.c:
	  - #include <kiklib/kik_mem.h>
	  - minor cleanups.

	* inputmethod/uim/im_uim.c: #include <uim-im-switcher.h>

	* x_im.c, x_im.h: fixed a segfault which is caused by using uim and
	  m17nlib together.

2004-10-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in:
	  - --disable-kbd.
	  - --enable-dnd -> --disable-dnd
	  - USE_IM_PLUGIN in IM_CFLAGS.
	
	* README.iscii, README.ja, man/mlterm.1, etc/key, x_screen.c,
	  x_screen.c, x_shortcut.c, x_shortcut.h:
	  - removed screen->kbd.
	  - removed XIM_OPEN and XIM_CLOSE.
	  - added IM_HOTKEY.

	* x_screen.h (compare_key_state_with_modmap): new function for
	  callback of input methods.

	* inputmethod/iiimf/im_iiimf.c, inputmethod/uim/im_uim.c,
	  inputmethod/m17nlib/im_m17nlib.c (switch_mode): new functions for
	  IM_HOTKEY.

	* inputmethod/m17nlib/im_m17nlib.c: added status window.

	* inputmethod/iiimf/im_iiimf.c, inputmethod/uim/im_uim.c,
	  inputmethod/m17nlib/im_m17nlib.c (im_get_info):
	* tool/mlconfig/mc_im.c (get_im_info):
	  added 'encoding' argument.

	* x_kbd.c, x_kbd.h: moved to ..
	* inputmethod/kdb/im_kbd.c: this.

	* inputmethod/kdb/Makefile.in: new file.

	* xwindow/Makefile.in:
	  - removed x_kbd.o.
	  - added IM_CFLAGS.

	* x_im.h, x_im.h: added ml_iscii_keymap_new, ml_iscii_keymap_delete and
	  ml_convert_ascii_to_iscii into x_im_export_syms_t.

	* x_main_config.c: minor cleanup.

2004-10-09 Seiichi SATO <ssato@sh.rim.or.jp>

	* ml_cursor.h: added missig #endif.

2004-10-09  Araki Ken  <arakiken@users.sf.net>

	* ml_cursor.[ch]: Intensified cursor operations.

	* ml_screen.c,ml_edit_util.c,ml_logical_visual.h,ml_mode.h,ml_edit.[ch]:
	  Fixed because of ml_cursor.[ch] being added.

2004-10-06 Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in:
	  - removed test for uim_get_im_short_desc().
	  - -DUIM_CAN_GET_DEFAULT_IM -> -DUIM_0_4_4_OR_LATER
	  - defined USE_UIM, USE_IIIMF and USE_M17NLIB in IM_CFLAGS.
	  - --enable-m17nlib.
	  - added /usr/lib/im/ to the library search paths for libiiimcf.
	  - minor cleanups.

	m17n library support:
	* inputmethod/m17nlib/Makefile.in: new file.
	* inputmethod/m17nlib/im_m17nlib.c: new file.

	* inputmethod/uim/Makefile.in, inputmethod/iiimf/Makefile.in: added
	  IM_CFLAGS into CFLAGS.

	* inputmethod/iiimf/im_iiimf.c:
	  - fixed a segfault when moving the cursor in pre-editing.
	  - minor cleanups.

	* inputmethod/iiimf/im_iiimf.c (status_start, status_change,
	  status_done): new functions to handle status events.

	* inputmethod/iiimf/im_iiimf.c (dispatch): removed
	  IIIMCF_EVENT_TYPE_AUX_GETVALUES to avoid compilation error on FC2.

	* inputmethod/iiimf/im_iiimf.c (delete):
	  - return reference count.
	  - added finalization for status window.
	
	* inputmethod/iiimf/im_iiimf.c (im_get_info): new function to provide
	  information of IM plugins to external tools.

	* inputmethod/im_info.h: new file used for im_get_info() API.

	* inputmethod/uim/im_uim.c:
	  - disabled IM_UIM_COMPAT_0_3_8 under uim-0.4.4 or later.
	  - added uim_list to manage all im_uim_t objects.
	  - minor cleanups.
	  - hold terminal encoding name in im_uim_t.
	  - fixed an invalid memery read detected by valgrind.

	* inputmethod/uim/im_uim.c (delete):
	  - return reference count.
	  - removed im_uim_t from uim_list.
	  - don't call uim_quit(), when m17nlib is enabled.

	* inputmethod/uim/im_uim.c (helper_send_imlist, helper_im_changed):
	  new functions to handle "im_*" messages from helper.

	* inputmethod/uim/im_uim.c (im_new): inserted newly-created im_uim_t
	  object into uim_list.

	* inputmethod/uim/im_uim.c (im_get_info): new function to provide
	  information of IM plugins to external tools.

	* kiklib/src/Makefile.in: increased MAJOR version. (9->10)

	* kik_dlfcn.h, kik_dlfcn_dl.c, kik_dlfcn_dld.c, kik_dlfcn_dyld.c,
	  kik_dlfcn_ltdl.c, kik_dlfcn_none.c, kik_dlfcn_win32.c
	  (kik_dl_is_module): new functions to check if a file name has
	  module suffix such as ".so", ".sl" and ".dll".

	* man/mlterm.1: updated --im option.

	* tool/mlconfig/Makefile.in:
	  - added LIBDIR for loading module.
	  - removed @UIM_LIBS@ and @IIIMF_LIBS@. now mlconfig is not linked to
	    libuim and libiiimcf.

	* tool/mlconfig/mc_im.c:
	  - added IM_OTHER intended to unify functions for pluggable IMs.
	  - get IM specific information from plugins.

	* tool/mlconfig/mc_im.c (is_im_plugin, get_im_info): new functions.

	* tool/mlconfig/mc_im.c (uim_selected, uim_widget_new, iiimf_set_item,
	  iiimf_selected, iiimf_best_match_index, iiimf_widget_new,
	  button_uim_checked, button_iiimf_checked, button_none_checked):
	  - removed. (unified to below functions)

	* tool/mlconfig/mc_im.c (im_selected, im_widget_new,
	  button_im_checked): new functions for pluggable IMs.

	* x_im.h:
	  - added ml_get_char_encoding_name and x_im_status_screen_new
	    into x_im_export_syms_t.
	  - added im_changed callback into x_im_event_listener_t.
	  - increased IM_API_VERSION.

	* x_im.c (dlsym_im_new_func): return module handle.

	* x_im.c (x_im_delete): new function to be used for deleting IM objects
	  and unloading modules.

	* x_im_candidate_screen.c: minor cleanups.

	* x_im_status_screen.c, x_im_status_screen.h: new files for status
	window of input methods.

	* x_screen.c (im_changed): new function for im-switcher.

	* xwindow/Makeile: added x_im_status_screen.o.

2004-09-26 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c: fixed a minor bug.

2004-09-26 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlterm.1: fixed typo. (JISX0201_KANA -> JISX0201_KATA)
	  (Thanks to Konosuke WATANABE for reporting)

2004-09-19 Seiichi SATO <ssato@sh.rim.or.jp>

	* mlterm/ml_vt100_parser.c (change_char_attr): kept is_reversed when
	  'ESC [ 39 m' or 'ESC [ 49 m' was received.

2004-09-19 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_im.h: increased IM_API_VERSION.

	* etc/xim: removed uim-*.

	* inputmethod/uim/im_uim.c (prop_list_update, prop_label_update):
	  - sent engine name to uim helper.
	  - minor cleanups.

	* inputmethod/iiimf/im_iiimf.c (atokx_lookup_show, atokx_lookup_hide,
	  atokx_lookup_select, atokx_lookup_set, atokx_lookup): new functions
	  for handling the candidate window using ATOK X LookupAux event.

	* inputmethod/iiimf/im_iiimf.c (show_iiimcf_version): new function
	  for debugging.

	* inputmethod/iiimf/im_iiimf.c: minor cleanups.

	* inputmethod/im_common.h (im_convert_encoding): minor cleanups.

	* x_im_candidate_screen.c (init_candidates)
	  x_im_candidate_screen.h (x_im_candidate_t):
	  added new parameter 'num_per_window'.

2004-09-19 MINAMI Hirokazu <minami@mistfall.net>

	* mkf_ucs4_koi8.c: fixed mapping for cyryllic capital letter
	ukrainian ie. Thanks to Eugeniy Meshcheryakov(Debian BTS #267631).

2004-09-17 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c (uim_widget_new): added workaround for htt
	server included in ATOK X for Linux.

	* inputmethod/iiimf/im_iiimf.c: minor cleanups.

2004-09-16 Seiichi SATO <ssato@sh.rim.or.jp>

	* ml_edit.c (delete_cols): fixed a bug. (#1028815)

2004-09-15 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c (uim_widget_new): minor bug fix.

2004-09-15 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/uim/im_uim.c (im_new),
	  tool/mlconfig/mc_im.c:
	  - use uim_get_default_im_name() if available.
	  - unset the signal handler for SIGCHLD before calling
	    uim_create_context().

	* configure.in: added tests for uim_get_default_im_name() and
	  uim_get_im_short_desc()

2004-09-15 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c: fixed a small bug in auto selector for IIIMF.

2004-09-15 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c:
	- fixed segfault when the combo box for IIIMF was changed.
	- minor improvements around IIIMF.
	- minor cleanups.

2004-09-14 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c: cleanups.

2004-09-13 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_sb_view.c (has_rc_file): new function to check
	scrollbar has 'rc' file.

2004-09-13 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c(iiimf_best_match_index): select default language
	automatically. (according to current locale)

2004-09-13 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c: cleaned up.

	* tool/mlconfig/po/POTFILES.in: mc_xim -> mc_im.c.

	* tool/mlconfig/po/mlconfig.pot, tool/mlconfig/po/ja.po: updated.

2004-09-13 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/uim/im_uim.c(preedit_pushback): fixed a segfault in
	encoding conversion.

2004-09-12 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/iiimf/im_iiimf.c, inputmethod/uim/im_uim.c, x_im.c:
	- initialized the common object in x_im_new().
	- minor cleanups.

	* x_im.h: increased IM_API_VERSION.

2004-09-12 Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in: fixed typo.

2004-09-12 Seiichi SATO <ssato@sh.rim.or.jp>

	* etc/Makefile.in: removed uim.

2004-09-12 Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in: added output to show how you configured mlterm.

	* updated config.sub (timestamp='2004-06-24')
	* updated config.guess (timestamp='2004-08-13')

2004-09-11 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlterm.1: fixed typo.

2004-09-11 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlterm.1: fixed typo.

2004-09-11 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_im.c, x_main_config.c, x_screen.c, tool/mlconfig/mc_im.c:
	allowed "input_method=none".

	* man/mlterm.1: updated. (--im=none)

2004-09-11 Seiichi SATO <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c, tool/mlconfig/Makefile.in:
	- get available conversion engines from libuim directly.
	- added IIIMF support.

	* man/mlterm.1: added IIIMF related things into 'GUI CONFIGURATOR'
	section.

2004-09-11 Seiichi SATO <ssato@sh.rim.or.jp>

	* etc/uim: removed

2004-09-11 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlterm.1:
	- removed xim_open_in_startup.
	- added input_method and --im.
	- 'GTK+ 1.2' -> 'GTK+ 1.2 or later'.
	- added 'Input Method' into 'GUI CONFIGURATOR' section.

2004-09-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* README, doc/ja/README.ja:
	- removed xim_open_in_startup.
	- added input_method.
	- added --enable-dnd, --enable-uim and --enable-iiimf.
	- reformatted to fit in 80 columns.

	* LICENCE: updated. (Contents are not changed)

	* kiklib/configure.in:
	applied SuSE's patches(mlterm-configure.patch).

	* aclocal.m4:
	applied SuSE's patch(autoconf.patch).

2004-09-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_im.h (x_im_t):
	- remove draw_preedit.
	- increased IM_API_VERSION.

	* inputmethod/uim/im_uim.c(drar_preedit),
	  inputmethod/iiimf/im_iiimf.c(drar_preedit): moved to ..
	* x_im.c (x_im_redraw_preedit): ..this

	* inputmethod/iiimf/im_iiimf.c: minor cleanups.

	* inputmethod/im_common.h:
	- minor cleanups.
	- fixed a memory leak.

2004-09-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/uim/Makefile.in:
	* inputmethod/iiimf/Makefile.in:
	- fixed typo.
	- added LIBS_LOCAL.

	* inputmethod/iiimf/im_iiimf.c: fixed compilation errors with
	libiiimcf in Fedora Core 2.

2004-09-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/im_common.h: new file

	* xwindow/x_im.h (x_im_convert_encoding): moved to..
	* inputmethod/im_common.h (im_convert_encoding): ..this

2004-09-10 Seiichi SATO <ssato@sh.rim.or.jp>

	IIIMF (Internet Intranet Input Method Framework) support:

	* configure.in: added '--enable-iiimf'.

	* inputmethod/iiimf/im_iiimf.c: new file
	* inputmethod/iiimf/im_iiimf_keymap.h: new file
	* inputmethod/iiimf/Makefile.in: new file

	How to use:
	--im=iiimf .............  use IIIMF in the default language.
	--im=iiimf:ar ..........  use IIIMF in Arabic.
	--im=iiimf:ja:CannaLE ..  use IIIMF in Japanese using CannaLE
	                          languages engine.

	about IIIMF:
	<http://www.openi18n.org/subgroups/im/IIIMF/>

2004-09-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/uim/im_uim.c (convert_encoding): moved to...
	* xwindow/x_im.h (x_im_convert_encoding): ..this

	* inputmethod/uim/im_uim.c: minor cleanups.

2004-09-08 Seiichi SATO <ssato@sh.rim.or.jp>

	* inputmethod/uim/im_uim.c (im_new):
	- u_int32_t -> u_int64_t
	- minor cleanups.

	* inputmethod/uim/Makefile.in: fixed incorrect VPATH.

2004-09-07 Seiichi SATO <ssato@sh.rim.or.jp>

	some improvements around input method:

	* x_im.h:
	- increased IM_API_VERSION.
	- expanded IM_API_COMPAT_CHECK_MAGIC to 64bits.

	* x_im_candidate_screen.c (set_candidates): renamed to..
	* x_im_candidate_screen.c (set_candidate): ..this

	* x_im_candidate_screen.c (set_candidate): removed a unused argument.

	* x_im_candidate_screen.h: removed func_ prefix from x_im_export_syms_t.

	* inputmethod/uim/im_uim.c (convert_encoding): new function to convert
	received strings to term encoding.

	* inputmethod/uim/im_uim.c:
	- fixed some wrong comments.
	- minor cleanups.

2004-09-06 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_draw_str.c: fixed an incorrect position of #endif.
	(Thanks to Fanatic for report)

2004-09-06  Mike FABIAN  <mfabian@suse.de>

	* man/mlterm.1:
	- fixed typo (CONFIGURATABLE -> CONFIGURABLE)

2004-09-06 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_im_candidate_screen.c: fixed a compiler warning.
	(Thanks to Mike FABIAN for sending a patch)

2004-09-01 Seiichi SATO <ssato@sh.rim.or.jp>

	* man/mlterm.1:
	- Added cursor_bg_color and cursor_fg_color.
	- fixed a typo (encoding -> ENCODING).

2004-08-31 Seiichi SATO  <ssato@sh.rim.or.jp>

	* x_screen.c: fixed a deadkey problem with uim.

2004-08-30 Seiichi SATO  <ssato@sh.rim.or.jp>

	* man/mlterm.1: fixed a typo.

2004-08-29 Seiichi SATO  <ssato@sh.rim.or.jp>

	* inputmethod/uim/im_uim.c: converted X modify key to uim key.

2004-08-28 MINAMI Hirokazu <minami@mistfall.net>
 
        * doc/term/mlterm.* : reversed the order of sequences in sgr0.

2004-08-15 MINAMI Hirokazu <minami@mistfall.net>

	* doc/term/mlterm.* : updated information. 

2004-08-06 MINAMI Hirokazu <minami@mistfall.net>

	* mlterm/ml_vt100_parser.* : enhanced support for "save/restore cursor"
	escape sequence. 

2004-08-01 Seiichi SATO  <ssato@sh.rim.or.jp>

	* kik_pty_streams.c (kik_pty_fork): more verbose error message for
	Linux.

2004-08-01 MINAMI Hirokazu <minami@mistfall.net>

	* mlterm/ml_edit.c: allowed multiple restore cursor request.

2004-08-01 Seiichi SATO  <ssato@sh.rim.or.jp>

	* mlterm/ml_edit.c (ml_edit_overwrite_chars): fixed a wrap-around bug.

2004-07-16 Seiichi SATO  <ssato@sh.rim.or.jp>

	* contrib/icon/mlterm-icon.svg, contrib/icon/mlterm-icon-trans.svg:
	contributed from Tobias Kieslich.

2004-07-11 MINAMI Hirokazu <minami@mistfall.net>

	* doc/term/mlterm.*: changed some sequences to be rxvt compatible. 

2004-07-07 Seiichi SATO  <ssato@sh.rim.or.jp>

	* inputmethod/uim/Makefile.in: Added X_CFLAGS.

	* inputmethod/uim/im_uim.c: fixed wrong header path.

2004-06-27  Araki Ken  <arakiken@users.sf.net>

	* x_window.c: Fixed a failure of compilation.

2004-06-21 Seiichi SATO  <ssato@sh.rim.or.jp>

	* tool/mlconfig/mc_im.c (uim_read_conf): Renamed to ...
	* tool/mlconfig/mc_im.c (read_uim_conf): ..this.

	* tool/mlconfig/mc_im.c (xim_read_conf): Renamed to ...
	* tool/mlconfig/mc_im.c (read_xim_conf): ..this.

	* tool/mlconfig/mc_im.c (read_uim_conf): Fixed a minor bug.

2004-06-20  Seiichi SATO  <ssato@sh.rim.or.jp>

	* x_im_candidate_screen.c(set_candidates): In encoding conversion, set
	msb if need be.

2004-06-20  Seiichi SATO  <ssato@sh.rim.or.jp>

	* x_term_manager.c(x_term_manager_init):
	* x_main_config.c(x_prepare_for_main_config):
	Some cleanups against help messages. The words in round brackets
	indicate available values, and the square bracket quoted value is
	default. (description (value1/value2/...) [default])

	* x_screen.c, x_screen.h:
	To unify input method related options and configuration keys,
	--openim(xim_open_in_startup) option, 'xim' key and 'xim_name' key are
	removed. How to use new input method option:
	--im=xim .... use XIM with the default server specified by XMODIFIERS
	--im=xim:xcin ... use XIM with xcin on the current locale.
	--im=xim:Ami:ko_KR.eucKR ... use XIM with Ami on ko_KR.eucKR locale.
	--im=uim ... use uim with the default conversion engine.
	--im=uim:anthy ... use uim with anthy engine.

	- Added 'default_xim_name' key to allow mlconfig to select xim server
	automatically.

	* x_xic.c, x_xic.h(x_xic_get_default_xim_name):
	* x_xim.c, x_xim.h(x_get_default_xim_name):
	New functions for 'default_xim_name' key, used to get the name of XIM
	server which is set by XMODIFIERS.

	* tool/mlconfig/mc_xim.c, tool/mlconfig/mc_xim.h: Removed.

	* tool/mlconfig/mc_im.c tool/mlconfig/mc_im.h:
	* tool/mlconfig/Makefile.in:
	* tool/mlconfig/main.c:
	* etc/uim:
	Supported uim.

	* x_im.c, x_im.h:
	- added a symbol for ml_is_msg_set() to x_im_export_syms_t.
	- increased IM_API_VERSION.

	* inputmethod/uim/im_uim.c(preedit_pushback): In encoding conversion,
	set msb if need be.

2004-06-16  Seiichi SATO  <ssato@sh.rim.or.jp>

	* x_im_candidate_screen.c(init_candidates): cleared index of candidate
	table.

2004-06-14  Seiichi SATO  <ssato@sh.rim.or.jp>

	* im_uim.c: updated for uim-0.3.9.

	* x_term_manager.c: cleanup.

2004-06-13  Seiichi SATO  <ssato@sh.rim.or.jp>

	* x_screen.c(x_screen_new, x_screen_delete): duplicated
	conf_menu_path_[1-3] and input_method.

2004-06-13  Seiichi SATO  <ssato@sh.rim.or.jp>

	* xwindow/x_uim.c, xwindow/x_uim.h: moved to...
	* inputmethod/uim/im_uim.c, inputmethod/uim/im_uim.h: this.

	Uim related things have been implemented as plug-ins(pluggable
	modules). This change enables mlterm to be compiled without -luim in
	case of either --enable-uim or --disable-uim, and libuim is
	required from this module only.

	* x_im.c, x_im.h: new file, used to load input method plug-ins.

	* x_im_candidate_screen.c, x_im_candidate_screen.h: new file, used to 
	show the candidates for conversion received from uim.

	* x_window.c(x_window_set_override_redirect): new function, separated
	from x_window_set_borderless_flag().

	* x_screen.c(draw_str, draw_str_to_eol): moved to x_draw_str.c

	* x_draw_str.c, x_draw_str.h: New files, separated from x_screen.c to
	share draw_str() and draw_str_to_eol() with x_im_candidate_screen.c
	and x_screen.c.

	* x_main_config.c, x_main_config.h: remove 'uim_engine' and add
	'input_method' option. (input_method=<input method>:<conversion engine>)

	* x_term_manager.c, x_term_manager.h: removed 'use_uim' option.

	* x_term_manager.c, x_term_manager.h (x_term_manager_add_fd,
	x_term_manager_remove_fd): new functions, used to add/remove file
	descriptors to/from the event source.

2004-05-24 MINAMI Hirokazu <minami@mistfall.net>

	* x_xic.c: type of event mask should be long.
	* kiklib/configure*: added some includes to a test for socklen_t.
	(thanks to Waldemar Brodkorb) 

2004-05-23 MINAMI Hirokazu <minami@mistfall.net>

	* x_screen.c: fixes for underlines placement.
	- shouldn't displaced by bottom_margin.
	- use the same bottom_margin to draw a cursor.

	* x_xic.c: load_fontset() should return NULL in case of failure.

2004-05-16 MINAMI Hirokazu <minami@mistfall.net>

	* x_window.c: use ct.encoding instead of xselection.property 
	to reject garbage data. 

2004-05-16  Seiichi SATO  <ssato@sh.rim.or.jp>

	* ml_screen.c(ml_screen_is_cursor_visible): new function
	* ml_term.c(ml_term_is_cursor_visible): new function
	* x_screen.c(draw_cursor): Don't draw cursor if cursor is unvisible.

2004-05-16  MINAMI Hirokazu <minami@mistfall.net>

	* x_window.c: pasting text using incremental transfer
	is supported.  

2004-05-07  MINAMI Hirokazu <minami@mistfall.net>

	* x_imagelib_gdk.c: gdk_pixbuf_ref() was deprecated and 
	  shouldn't be called on GTK2.

2004-04-23  Tomohiro KUBOTA <kubota@debian.org>

	* The --borderless option was not documented in the manpage.
	  Patch from Nicolas Kratz <nick@ikarus.dyndns.org>,
	  Debian Bug#244657.

2004-04-18 MINAMI Hirokazu <minami@mistfall.net>

	* x_shortcut.c: before assigning new function to a key,
	clear already registered function.

2004-04-18  Seiichi SATO  <ssato@sh.rim.or.jp>

	* x_screen.c: Moved all callbacks for uim inside #ifdef USE_UIM.

2004-04-15  Seiichi SATO  <ssato@sh.rim.or.jp>

	* pixmap_engine.c: fixed tiny memory leak.

2004-04-12  Seiichi SATO  <ssato@sh.rim.or.jp>

	* x_uim.c (x_uim_delete): To plug a file descriptor leak, closed pipes
	for uim-helper-candwin-gtk.

	* x_uim.c (x_uim_new): Plugged a memory leak detected by valgrind. It
	was caused by uninitialized variable 'uim->encoding'.

	* x_screen.c (draw_preedit_str, get_segment_spot): Calculate the preedit
	position correctly in the back scroll mode.

	* x_uim.c (candwin_update_position): Hide a candidate window when the
	cursor position is out of screen.

2004-04-11  Seiichi SATO  <ssato@sh.rim.or.jp>

	* Added uim support.

2004-04-03  MINAMI Hirokazu  <minami@mistfall.net>

	* tool/mlconfig/Makefile.in: re-introduced IMAGELIB_CFLAGS.   
	(thanks to TAKAHASHI Tamotsu)

2004-03-28  MINAMI Hirokazu  <minami@mistfall.net>

	* xwnidow/x_shortcut.c: default shortcut should be disabled
	if some string is assigned to the key combination.

2004-03-23  MINAMI Hirokazu  <minami@mistfall.net>

	* mlterm/ml_char.c: ml_char_set() now checks its input values
	when compiled with -DDEBUG.

2004-03-22  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_font.c: added a sanity check.
	(in *aafont, an encoding must follow a font family name)

2004-03-15  MINAMI Hirokazu  <minami@mistfall.net>

	* kiklib/src/kik_pty_streams.c: warn if /dev/ptmx could not be opened.

2004-03-12  MINAMI Hirokazu  <minami@mistfall.net>

	* tools/mltconfig/po/Makevars:
	set subdir to the correct relative path.
	(SF#906977. Thanks to Min Sik Kim )

2004-03-09  MINAMI Hirokazu  <minami@mistfall.net>

	* configure.in: warn if some tools cannot be compiled
	due to the lack of gtk headers.

2004-03-05  MINAMI Hirokazu  <minami@mistfall.net>

	* added --enable-dnd configure option[default=yes].
	* mlterm/m_char.c: ml_char_t can be initialized single movq
	on LP64 systems and call to memset() is not neccesary.

2004-03-04  Tomohiro KUBOTA  <kubota@debian.org>

	* "-p"/"--pic" option was not enabled when using gdk-pixbuf2.
	  Fixed.

2004-03-03  Araki Ken  <arakiken@users.sf.net>

	* Moved ml_line_copy_color_reversed_flag() to ml_logical_visual.c
	  from ml_line.c.

	* Added ml_char_copy_color_revsered_flag()
	  Removed ml_char_is_color_reversed()

	* Crossed over line->chars array boundary in shape_iscii(ml_shape.c) and
	  ml_iscii_convert_logical_char_index_to_visual(). Fixed.

2004-03-01  MINAMI Hirokazu  <minami@mistfall.net>

	* mlterm/ml_vt100_parser.c: ignore leading zeroes in numeric
	arguments of escape sequences to pass vttest.

2004-02-29  MINAMI Hirokazu  <minami@mistfall.net>

	* documentation updates.

2004-02-27  MINAMI Hirokazu  <minami@mistfall.net>

	* configure.in, aclocal.m4, configure:
	- use PKG_CHECK_MODULES() where possible.
	- accept "gdk-pixbuf" as a target of with-imagelib.
	- mlconfig/mlterm-menu will be linked against gtk+-2.x when
	  apropreate libraries are available.

	* xwindow/x_imagelib_gdk.c: minor code cleanup.

	* mlterm/ml_edit.c: try to feed a line if next char does not
	fit in curent line.

2004-02-22  Araki Ken  <arakiken@users.sf.net>

	* Added ml_str.[ch].(separated from ml_char.[ch].)

2004-02-20  MINAMI Hirokazu  <minami@mistfall.net>

	* kiklib/src/kik_pty_streams.c: setsid() seems to detach
	control terminal. Don't call ioctl TIOCNOTTY when HAVE_SETSID
	is defined.

2004-02-19  MINAMI Hirokazu  <minami@mistfall.net>

	* kiklib/src/kik_pty_streams.c: stopped use of ioctl TICNOTTY
	on glibc2 for happy valgrinding.

2004-02-16  Seiichi SATO  <ssato@sh.rim.or.jp>

	* Don't use -no-undefined libtool option, expect that
	$allow_undefined_flag is "unsupported".

2004-02-13  Tomohiro KUBOTA  <kubota@debian.org>

	* configure: synchronized with configure.in (2004-01-31).

2004-02-12  MINAMI Hirokazu  <minami@mistfall.net>

	* **/Makefile.in:
	- use @X_LIBS@/@X_PRE_LIBS@/@X_EXTRA_LIBS@ when possible.
	- mlconfig does not needs IMAGELIB_CFLAGS to compile.

2004-02-11  Araki Ken  <arakiken@users.sf.net>

	* Region selection and backscrolling are disabled in
	  vertical mode.

	* Color was not reversed in selecting in ISCII mode. Fixed.

2004-02-11  Tomohiro KUBOTA  <kubota@debian.org>

	* xwindow/xfont.c, xwindow/xfont.h, xwindow/x_term_manager.c:
	  mlterm will print an error message if mlterm cannot start
	  because of lacking of fonts.

2004-02-09  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/Makefile.in, scrollbar/sample/Makefile.in,
	contrib/scrollbar/extra/Makefile.in: replaced hard-coded
	path by @X_CFLAGS@/@X_LIBS@ for cross compile.

2004-02-05  MINAMI Hirokazu  <minami@mistfall.net>

	* x_descsp_font.c:
	- backgorund wasn't cleared in draw_image_string.
	- when xft is used for rendering, always compose dec special
	chars since we can see nothing otherwise. (XXX to be fixed)

2004-02-03  Araki Ken  <arakiken@users.sf.net>

	* x_screen.c: If screen->line_space is over zero, XClearArea()
	  and XDrawString() are used instead of XDrawImageString().

2004-02-03  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_decsp_font.c:
	- In x_decsp_font_draw_string(), reset a clip mask when unknown
	char was passed so that dummy rectangle can be drown correctry.
	- In x_decsp_font_draw_image_string(), draw a rectangle for
	unknown char.
	(Thanks to Mike FABIAN for reporting)

2004-01-31  Seiichi SATO  <ssato@sh.rim.or.jp>

	* kik_pty_stream.c: If ptsname() fails, show an error message.

2004-01-31  Seiichi SATO  <ssato@sh.rim.or.jp>

	* mlterm/ml_edit.c(ml_edit_resize): Clear char_index of cursor, when
	the cursor position was reset. This change fixes a bug that caused a
	segfaul when resizing window over and over.

2004-01-31  KATO Kazuyoshi  <kzys@users.sf.net>

	* configure.in: mlterm-zoom can be specified as a value of
	--with-tools option.

	* contrib/tool/mlterm-zoom: Added.

2004-01-31  Tomohiro KUBOTA  <kubota@debian.org>

	* xwindow/x_font.c: wrong comment was fixed.

2004-01-29  Seiichi SATO  <ssato@sh.rim.or.jp>

	* xwindow/x_term_manager.c: fixed a segfault when initial font size
	was out of range.
	(Thanks to Mike FABIAN for sending a patch)

2004-01-29  MINAMI Hirokazu  <minami@mistfall.net>

	* mlterm/ml_edit.c: Fixed infinite loop when the number of columns
	needed to display a character is greater than screen width.

2004-01-26  Tomohiro KUBOTA  <kubota@debian.org>

	* Added an explanation for -*/--type option for man/mlterm.1.

2004-01-25  KATO Kazuyoshi  <kzys@users.sf.net>

	* tool/mlmenu/Makefile.in: Fixed a installation path.

2004-01-21  MINAMI Hirokazu  <minami@mistfall.net>

	* made font size range specification options work again.
	(THanks to Mike FABIAN for patchs)

2004-01-17  Tomohiro KUBOTA  <kubota@debian.org>

	* When "configure --with-type-engines=xcore,xft" or "configure
	  --enable-anti-alias", xcore was not enabled.  Fixed.
	* "mlterm --help" says the default of --type-engine is always
	  xcore regardless of the real default (which depends on the
	  compilation option).  Fixed.

2004-01-15  MINAMI Hirokazu  <minami@mistfall.net>

	* x_imagelib_gdk.c: When gtk2 is choosed(-with-imagelib=gdk-pixbuf2),
	use g_object_unref insted of (deprecated)gdk_pixbuf_unref.

	* kik_pty_streams.c: #define __EXTENSIONS__ for solaris.

2004-01-14  Tomohiro KUBOTA  <kubota@debian.org>

	* mlconfig lists scrollbars in user's configuration directory
	  and system directory.

2004-01-13  Seiichi SATO  <ssato@sh.rim.or.jp>

	* tool/mlclient/main.c: arguments specified by -e option were able to
	estimate(e.g., mlclient -e w3m -v). fixed.
	(Thanks to Murano Naoki san for sending a patch)

2004-01-12  MINAMI Hirokazu  <minami@mistfall.net>

	* kiklib/src/kik_pty_streams.c: #defined _BSD_SOURCE to
	get rid of compile error on glibc.
	
2004-01-12  Tomohiro KUBOTA  <kubota@debian.org>

	* Include <string.h> in xwindow/x_sb_mode.c for usage of
	  strcmp().

2004-01-08  MINAMI Hirokazu  <minami@mistfall.net>

	* kiklib/src/kik_pty_streams.c: #defined _XOPEN_SOURCE as 500
	to make features defined in UNIX98 pty available.
	(should fix debian Bug#226654. Thanks to lamont for reporting)

2004-01-07  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_main_config.c: minor bugfix.
	* xwindow/x_font_manager.c: fixed segv when changing font size
	using escape sequence.

2004-01-06  MINAMI Hirokazu  <minami@mistfall.net>

	* mlterm/ml_vt100_parser.c: replaced magic constant "20" by DIGIT_STR_LEN(int).
	* xwindow/x_screen.c: mod_meta_mode = 8bit (set MSB) was not working. fixed.

2004-01-05  Seiichi SATO  <ssato@sh.rim.or.jp>

	* mlterm/ml_edit.c (cursor_goto_intern): If requested row is larger
	than terminal size, round it to end of row.

2004-01-03  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_main.config.c: type_engine was not initialized when
	no option had been specified. fixed.

	* xwindow/x_font_cache.c: "font_name_list" should not be accessed
	after realloc.

	* xwindow/x_window.c: #ifdef'ed not-yet-implemented features.

2003-12-30  Araki Ken  <arakiken@users.sf.net>

	* Core X Font Subsystem can be removed by --with-type-engines=xft.

2003-12-28  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_screen.c: reverted the last change.

2003-12-28  MINAMI Hirokazu  <minami@mistfall.net>

	* configure.in, configure: changed VERSION from 2.7.0->2.8.0
	* xwindow/x_screen.c: fixed segv (use_anti_alias should do nothing
	 when USE_TYPE_XFT is not defined).

2003-12-27  Seiichi SATO  <ssato@sh.rim.or.jp>

	* tool/mlconfig/main.c: ANTI_ALIAS -> USE_TYPE_XFT

2003-12-27  Seiichi SATO  <ssato@sh.rim.or.jp>

	* If confiugre detects that pkg-config and xft2 library are available,
	  define USE_TYPE_XFT.

2003-12-27  Araki Ken  <arakiken@users.sf.net>

	* Added --type-engines option to configure and obsoleted --anti-alias option.
	* Added -*,--type,type_engine option to mlterm.
	  You can specify which engine you use, xcore or xft.

2003-12-27  Seiichi SATO  <ssato@sh.rim.or.jp>

	* mlterm/ml_pty_win32.c: cleaned up error handling.
	* updated config.sub and config.guess. (timestamp='2003-10-07')

2003-12-25  MINAMI Hirokazu  <minami@mistfall.net>

	* tools/mlconfig/main.c: made gettext work with GTK2.

	* Re-mapping of keys using xmodmap now should be handled properly.
	* Keys that can be locked(Num_Lock/Scroll_Lock/ISO-Level3_Lock)
	 are no longer regarded as a valid modifier key.

2003-12-24  Seiichi SATO  <ssato@sh.rim.or.jp>

	* contrib/scrollbar/pixmap_engine/pixmap_engine.c: fixed a problem when
	  slider images were not presented.

2003-12-22  MINAMI Hirokazu  <minami@mistfall.net>

	* x_window.c: selection conversion request type "TARGETS"
	 is now supported( clipboard now should work with KDE klipper).

2003-12-21  Seiichi SATO  <ssato@sh.rim.or.jp>

	* mlterm/ml_pty_win32.c: Added:-)
	* configure.in mlterm/Makefile.in: Only a few changes for ml_pty_win32.c
	* man page: Updated the maximum number of windows in MULTIPLE PTY
	  section.
	* etc/xim: Added uim-anthy, uim-skk, uim-tcode, uim-prime and
	  uim-tutcode.
	  Notes:
	  - Uim is available at http://www.freedesktop.org/Software/uim
	  - uim-xim version 0.2.0 said 'Now only supports Japanese' on startup.
	  - I've tested uim-anthy and uim-prime for a little while, both seem
	    to work fine with mlterm.

2003-12-11  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_screen.c: fixed an off-by-one error in get_mod_meta_mask().
	  (modifiermap[8*max_keypermod] shouldn't be accessed)
	* removed redundant spaces/ corrected typo.

2003-11-24  Seiichi SATO  <ssato@sh.rim.or.jp>

	* configure.in, mlterm/Makefile: Added AC_CANONICAL_HOST,
	  AC_CANONICAL_TARGET and mingw32-dependent stuff.

2003-11-24  Seiichi SATO  <ssato@sh.rim.or.jp>

	* kiklib/configure.in, kiklib/src/kik_config.h.in:
	  Added AC_CHECK_TYPE(ssize_t,int), since mingw32 does not have ssize_t.
	  (Does anybody know if this will work on Win64?)

2003-11-03  Araki Ken  <arakiken@users.sf.net>

	* Enbugged by [2003-10-31-2]. Fixed.

2003-10-31  Araki Ken  <arakiken@users.sf.net>

	* The color of log lines sometimes reversed or restored
	  incorrectly. Fixed.

	* Supported borderless window by _MOTIF_WM_HINTS atom.

2003-10-16  Araki Ken  <arakiken@users.sf.net>

	* A snapshot file name must not contain ".." and its suffix is
	  always ".snp" for security issues.

2003-10-12  Araki Ken  <arakiken@users.sf.net>

	* 'snapshot' protocol allows no value.

2003-10-12  Araki Ken  <arakiken@users.sf.net>

	* Added 'snapshot' to 5379 protocol.

2003-10-12  Araki Ken  <arakiken@users.sf.net>

	* doc/ja/README.ja: Updated and fixed typo.

2003-10-12  Araki Ken  <arakiken@users.sf.net>

	* Removed tool/viewsfml/.

	* Added tool/accessories/.

2003-10-12  Araki Ken  <arakiken@users.sf.net>

	* mlmenu/main.c: Fixed a critical bug.

	* mlmenu/Makefile: Removed.

	* configure.in: mlmenu can be specified as a value of --with-tools option.

2003-10-12  Araki Ken  <arakiken@users.sf.net>

	* x_font_config.[ch]: Renamed x_configize_... to x_customize_...

	* version.h.in: Validated CVS_REVISION.

2003-10-12  Araki Ken  <arakiken@users.sf.net>
	
	* Minor cleanups.

2003-10-12  Araki Ken  <arakiken@users.sf.net>

	* mlmenu/main.c: ~/.mlterm/menu couldn't be loaded correctly. Fixed.

2003-10-11  Araki Ken  <arakiken@users.sf.net>

	* Renamed font_custom and color_custom to font_config and font_custom.

	* Added x_main_config.[ch] pulled out from x_term_manager.c

2003-10-11  Araki Ken  <arakiken@users.sf.net>

	* After options saved by 5382 or 5383 protocol, new terminals start
	  with the new options.

2003-10-11  Araki Ken  <arakiken@users.sf.net>

	* Added -&,--borderless,borderless option.

	* Added tool/mlmenu.

2003-10-05  Araki Ken  <arakiken@users.sf.net>

	* 2.8.0 released.
	  (tag "rel-2_8_0")

	* Visual bel didn't work as expected. Fixed.

2003-10-04  Araki Ken  <arakiken@users.sf.net>

	* Added --with-tools and --with-scrollbars description to README and
	  README.ja.

2003-10-01  Araki Ken  <arakiken@users.sf.net>

	* Modified some documents.

2003-10-01  MINAMI Hirokazu  <minami@lissie.chem.s.u-tokyo.ac.jp>

	* etc/*aafont: UCS2->UCS4

2003-09-30  Araki Ken  <arakiken@users.sf.net>

	* x_screen.c(window_exposed): Consider vertical mode.

2003-09-30  Araki Ken  <arakiken@users.sf.net>

	* x_sb_view_factory.c: Memory leaked if specified scrollbar not found and
	  "simple" scrollbar used. Fixed.

	* x_sb_view_factory.c: Removed stuff about lib_ref_table.

	* ml_char.c(ml_char_move): Use ml_char_init instead of memset.

2003-09-29  Araki Ken  <arakiken@users.sf.net>

	* version.h: 2.8.0

	* mlconfig: "Font size (temporal)" changed to "Font size (temporary)".

2003-09-26  Araki Ken  <arakiken@users.sf.net>

	* Added font.ja and main.ja

2003-09-25  Araki Ken  <arakiken@users.sf.net>

	* x_screen.c(draw_line): RTL lines shown incorrectly when variable fonts
	  used and region being selected.

2003-09-25  Araki Ken  <arakiken@users.sf.net>

	* ml_char.[ch]: Supported little endian machines in 64bit.

2003-09-21  Seiichi SATO <ssato@sh.rim.or.jp>

	* x_window.c(x_window_receive_event): Fixed incorrect width and/or
	  height of the exposed area. For example, at event->expose.height = 1
	  and event->expose.y = 0, height should be 0 not -1.

2003-09-21  Araki Ken  <arakiken@users.sf.net>

	* ml_logical_visual.c(comb_logical): Usage of ml_char_at() was wrong. Fixed.

	* ml_char.c: IS_COMB(attr) used wrong mask. Fixed.

2003-09-21  Araki Ken  <arakiken@users.sf.net>

	* x_font_cache.c,x_font_custom.c: minor fixes.

2003-09-21  Araki Ken  <arakiken@users.sf.net>

	* mlterm.spec,ml_char.h: minor fixes.

2003-09-20  Araki Ken  <arakiken@users.sf.net>

	* ml_char.[ch]: ml_char_t is 64bit in LP64 system. LSB 4bits of attr
	  are always valid even if characters combined.

2003-09-19  MINAMI Hirokazu  <minami@lissie.chem.s.u-tokyo.ac.jp>

	* x_dnd.c: code cleanup.

2003-09-18  Araki Ken  <arakiken@users.sf.net>

	* ml_char.[ch]: If ml_char_t combined or not could not be distinguished. Fixed.
	  (96bit in LP64 system now) (Thanks to Minami Hirokazu san)

2003-09-17  Seiichi SATO <ssato@sh.rim.or.jp>

	* doc/ja/README.sb: Fixed a typo.

2003-09-16  Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in : Disabled pixmap_engine by default.

	* README, README.ja, README.sb: Updated.

2003-09-16  MINAMI Hirokazu  <minami@mistfall.net>

	* ml_config_menu.c: call kik_remove_sig_child_listener()
	  when the config menu is finalized.

2003-09-15  Araki Ken  <arakiken@users.sf.net>

	* mlterm-menu/Makefile.in: Added $(SYSCONFDIR) target.

	* x_font_cache.c(x_get_font_name_list_for_fontset): Load "-*-*-medium-r-*--%d-*-*-*-*-*"
	  font by default for FontSet.

2003-09-15  Araki Ken  <arakiken@users.sf.net>

	* ml_char.[ch]: ml_char_t is 64bit in LP64 system.

2003-09-15  Araki Ken  <arakiken@users.sf.net>

	* x_term_manager.c(start_daemon,client_connected): If multiple mlterms
	  started with -j {genuine|blend} option, both of or either of them
	  could die. Fixed.

2003-09-15  MINAMI Hirokazu  <minami@mistfall.net>

	* x_term_manager.c:
	 - dead mask for screens is now also stored in u_long like
	the one for terms in ml_term_manager.c .
	 - renamed MAX_TERMS to MAX_SCREENS .
	
2003-09-15  Seiichi SATO <ssato@sh.rim.or.jp>

	* x_font_manager.c (x_get_fontset): Fixed a compilation error with
	  --enable-debug.

2003-09-15  Araki Ken  <arakiken@users.sf.net>

	* configure.in: Added --enable-optimize-redrawing option.

2003-09-15  KATO Kazuyoshi  <kzys@users.sf.net>

	* xwindow/x_screen.c (button_pressed): Ctrl+Middle button don't launches external program. Fixed.

2003-09-14  Araki Ken  <arakiken@users.sf.net>

	* tool/mlclient/Makefile.in: Added $(BINDIR) target which creates
	  $(BINDIR) if it doesn't exist.

2003-09-14  Araki Ken  <arakiken@users.sf.net>

	* x_font_custom.c(x_get_all_custom_font_names): Returns fontname list
	  separated by ','. (Illegal font name list returned before.)

2003-09-14  Araki Ken  <arakiken@users.sf.net>
	
	* x_font.c(x_font_new): Surrounded xft_font by #ifdef  ANTI_ALIAS - #endif.

2003-09-14  Araki Ken  <arakiken@users.sf.net>

	* Added mlterm/API.

	* ml_screen.c(ml_screen_set_modified_all): Removed '== NULL'.

	* x_screen.c(flush_scroll_cache): The second and third arguments
	  of ml_set_modified_lines() if screen->scroll_cache_rows < 0 was reversed.
	  Fixed.
	
	* x_screen.c: Don't use ml_line_updated(). Use ml_term_updated_all() instead.

2003-09-14  Araki Ken  <arakiken@users.sf.net>

	* ml_logical_visual.c(iscii_visual): cleaned and tuned up.

	* ml_term.c, x_screen.c: ml_model_t and ml_logs_t states must not be
	  modified by x_screen.c, in other words, functions in ml_term.c must
	  not modify them unless these are logicalized in advance.
	  But it was not complied. Fixed.

2003-09-13  Araki Ken  <arakiken@users.sf.net>

	* xwindow/Makefile.in: Added x_font_cache.o.
	
	* x_screen.c:selecting_with_motion(): A character which is after expected one
	  was selected. Fixed.

	* x_screen.c: Use x_get_font_size() instead of accessing
	  screen->font_man->font_cache->font_size directly.

	* x_font_manager_t.font_cache_table can be shared by multiple font managers
	  as x_font_cache_t.

2003-09-10  MINAMI Hirokazu  <minami@mistfall.net>

	* ml_term_manager.c: dead_mask is now u_long instead of u_int32.
	 Up to 64 pty (not window) may be opened on 64-bit systems.

	* x_term_manager.c: stopped to check whether unused screen
	should be closed.

	* contrib/tool/dnd: Added smaple.c to show how to configure mlterm
	using X Drad and Drop protocol.

2003-09-08  Araki Ken  <arakiken@users.sf.net>

	* x_font_custom.[ch]: Added default_font_name_table to x_font_custom_t.
	  Shrunk wasted memory if many default font names specified in
	  ~/.mlterm/*font files.

2003-09-01  Araki Ken  <arakiken@users.sf.net>

	* Dumped core in selecting region in some situations. Fixed.

2003-08-29  MINAMI Hirokazu  <minami@mistfall.net>

	* x_dnd.c:
	 - fixed sgev in incremental data transfer.
	 - code cleanup.

2003-08-27  Araki Ken  <arakiken@users.sf.net>

	* The colors of lines next to empty ones were not reversed correctly
	  in selection. Fixed.

2003-08-25  Araki Ken  <arakiken@users.sf.net>

	* version.h.in: 2.8.0pre

2003-08-20  MINAMI Hirokazu  <minami@mistfall.net>

	* x_dnd.c: added a handler for DestroyNotity.

2003-08-18  MINAMI Hirokazu  <minami@mistfall.net>

	* x_window.c, x_dnd.h: code cleanup.
	  XDnD subsystem is separated into x_dnd.c and should be easily
	  disabled if it's desired.
	* x_dnd.c: plugged tiny memory leaks.

2003-08-14  Araki Ken  <arakiken@users.sf.net>

	* Added tool/viewsfml/README,tool/viewsfml/Makefile.
	
	* viewsfml.sh: Replace charset=iso-8859-1 with charset=iso-2022-jp.

2003-08-14  Araki Ken  <arakiken@users.sf.net>

	* ml_edit.c(ml_edit_clear_line_to_right,ml_edit_clear_line_to_right_bce):
	  Garbage could be left even if line is cleared by ESC [ K. Fixed.
	  (Thanks to Kubota Tomohiro san)

	* Added tool/viewsfml/viewsfml.sh.

2003-08-12  MINAMI Hirokazu  <minami@mistfall.net>

	* x_dnd.c: for incremental transfer, parser/converter
	  should be kept to remember its state(endianess/fragments etc.)

2003-08-10  MINAMI Hirokazu  <minami@mistfall.net>

	* x_xim.c:
	- xim->im should be cleared when im was closed due to an error.
	- Default XIM name is now "none", not "@im=none".

2003-08-10  Araki Ken  <arakiken@users.sf.net>

	* Cursor wasn't redrawn under vertical writing mode.
	  Added ml_xterm_event_listener_t.start_2 and fixed this problem.

	* Using ml_char_at() instead of refering to ml_line_t:chars[] array
	  directly.

	* ml_edit_intern.c: renamed to ml_edit_util.c.

2003-08-05  Araki Ken  <arakiken@users.sf.net>

	* ml_screen.c(receive_scrolled_out_line): Adhoc workaround
	  to fix strange selection in backscroll mode.

2003-08-03  Seiichi SATO  <ssato@sh.rim.or.jp>

	* configure.in: I forgot appending '-export-symbol' to DL_LIBS.

2003-08-03  Seiichi SATO  <ssato@sh.rim.or.jp>

	* configure.in, configure, kiklib/configure.in, kiklib/configure
	  kiklib/src/Makefile.in, kik_dlfcn_ltdl.c, xwindow/Makefile.in
	  tool/mlconfig/Makefile.in, contrib/tool/mlterm-menu/Makefile.in:
	  Added libltdl support.
	  (Thanks to Aida Shinra san for sending a patch)

	* kik_dlfcn_dld.c, kik_dlfcn_win32.c: Some cleanups.

2003-08-03  Araki Ken  <arakiken@users.sf.net>

	* ml_line.c(ml_line_set_modified):
	  Fixed a bug in dealing with multi-byte character.
	  (Thanks to Kubota Tomohiro san)

2003-07-27  Seiichi SATO  <ssato@sh.rim.or.jp>

	* mkf/lib/Makefile.in: My change(2003-03-21) seems to be wrong. Fixed.

2003-07-27  Araki Ken  <arakiken@users.sf.net>

	* Added OPTIMIZE_REDRAWING macro, which is defined by default, to ml_line.c.

2003-07-27  Tomohiro KUBOTA <kubota@debian.org>

	* contrib/tool/mlterm-menu/Makefile.in: SYSCONFDIR is changed
	  from $(sysconfdir)/mlterm to $(sysconfdir) because "mlterm"
	  is added by source-file-side.  This fixes a problem that
	  mlterm-menu refers /etc/mlterm/mlterm/menu (which should be
	  /etc/mlterm/menu) as system-wide configuration file.

2003-07-27  Araki Ken  <arakiken@users.sf.net>

	* Fixed scrollbar behavior bug(BTS:762666).
	  (Thanks to Murase Masaki san)

2003-07-22  Seiichi SATO  <ssato@sh.rim.or.jp>

	* kik_dlfcn_dl.c: Fixed a typo.

2003-07-21  Seiichi SATO  <ssato@sh.rim.or.jp>

	* mkf/lib/Makefile.in: Cleaned up.
	  - ${top_builddir}/kiklib/src/libkik.la -> -lkik
	  - -L${top_builddir}/kiklib/src/.libs -> -L${top_builddir}/kiklib/src

2003-07-21  Seiichi SATO  <ssato@sh.rim.or.jp>

	* kik_dlfcn_dl.c: Could not dynamically load HP-UX library(.sl). Fixed.
	  NOTE: Recent HP-UX has dlopen() and shl_load(). At first configure
	  scripts do check for dlopen(). If we don't find dlopen(), shl_load()
	  will be used.

2003-07-21  Seiichi SATO  <ssato@sh.rim.or.jp>

	* kik_dlfcn_dyld.c: Supported the Darwin dynamic module loading via
	  dyld APIs.

2003-07-18  MINAMI Hirokazu  <minami@mistfall.net>

	* x_dnd.c: tweaked mime-type preference order.

2003-07-17  MINAMI Hirokazu  <minami@mistfall.net>

	* x_dnd.c: fixed bugs in the parsing of configuration protocol.

2003-07-17  Seiichi SATO  <ssato@sh.rim.or.jp>

	* Started porting to MS Windows.

	* kik_dlfcn.c: Removed.

	* kik_dlfcn_dl.c: Taken from kik_dlfcn.c. (dlopen() in libdl)

	* kik_dlfcn_dld.c: Taken from kik_dlfcn.c. (shl_load() of HP-UX)

	* kik_dlfcn_dyld.c: Added for Mac OS X. (not written yet)

	* kik_dlfcn_win32.c: Added for Windows. (native Win32 and Cygwin)

	* kik_dlfcn_none.c: Dummy functions.

	* kik_pty_win32.c: Dummy functions.

	* kik_unistd.c (kik_usleep): Replaced usleep() with Sleep() in Win32API.

	* kiklib/configure.in: Added AC_CANONICAL_TARGET and cleaned up.

	* mkf/configure.in: Added AC_CANONICAL_HOST and AC_CANONICAL_TARGET.

2003-07-17  Seiichi SATO  <ssato@sh.rim.or.jp>

	* kik_pty_streams.c: slave -> *slave (line 243)

2003-07-14  Seiichi SATO  <ssato@sh.rim.or.jp>

	* Applied a keypad patch from Mike Fabian.

2003-07-14  Araki Ken  <arakiken@users.sf.net>

	* Bidi characters in backward-scrolled area were not correctly
	  selected. Fixed.

	* The end characters of lines in backward-scrolled area couldn't
	  be selected. Fixed.

2003-07-13  Seiichi SATO  <ssato@sh.rim.or.jp>

	* Added "lang" and "country" into map_ucs4_to_func_table struct instead
	  of "locale", and get_map_ucs4_to_func_for_current_locale() function
	  was changed to select UCS mapping table by sys_lang and sys_coutry.
	  Probably it is useful, if your system have no posix locale mechanism,
	  or broken one such as old UN*X and Mac OS X.
	  (Thanks to Aida Shinra san for sending a patch)

2003-07-13  Seiichi SATO  <ssato@sh.rim.or.jp>

	* kik_config.h.in: Added gid_t. It is required on some platforms, and
	  defined by AC_TYPE_UID_T.
	
	* kiklib/configure.in: Cleaned up platform dependent stuff.

2003-07-09  Araki Ken  <arakiken@users.sf.net>

	* Fixed 0x0 core dump bug.
	  (BTS:762681)

	* ml_vt100_parser.c: Enabled IGNORE_SPACE_FG_COLOR.
	  (redrawing optimized)

	* Added -%,--logseq,logging_vt_seq option.

2003-07-07  MINAMI Hirokazu  <minami@mistfall.net>

	* fixed a compilation error.
	(Thanks to Hironori SAKAMOTO san)

2003-07-08  Seiichi SATO <ssato@sh.rim.or.jp>

	* Previous fix for sizehint bug still had a problem in
	  x_window_set_normal_hints(). Fixed.
	* Now pixmap_engine does not require *_use_mask key in rc file.
	  (Thanks to Minami Hirokazu san)

2003-07-08  Seiichi SATO <ssato@sh.rim.or.jp>

	* x_imagelib_imlib.c: fixed a small bug in x_imagelib_load_file().

2003-07-08  Seiichi SATO <ssato@sh.rim.or.jp>

	* My fix for sizehints bug (2002-08-29) seems not to be enough. Fixed.

2003-07-06  Araki Ken  <arakiken@users.sf.net>

	* Cursor character was not correctly drawn in window unfocused. Fixed.

2003-07-06  Seiichi SATO <ssato@sh.rim.or.jp>

	* pixmap_engine.c: minor cleanup

2003-07-06  Araki Ken  <arakiken@users.sf.net>

	* ml_edit.c, ml_line.c: Optimized the way of redrawing.

2003-07-05  Seiichi SATO <ssato@sh.rim.or.jp>

	* fixed a small bug in pixmap_engine.c

2003-07-05  MINAMI Hirokazu  <minami@mistfall.net>

	* x_imagelib_gdk.c:x_imagelib_load_file() now retuens None as "mask"
	when there's no alpha plane in the specified image file.

2003-07-05  Seiichi SATO <ssato@sh.rim.or.jp>

	* Updated pixmap_engine since x_imagelib_load_file() was changed.

2003-07-05  MINAMI Hirokazu  <minami@mistfall.net>

	* Changed API of the x_imagelib_load_file() function.

2003-07-03 Araki Ken <arakiken@users.sf.net>

	* Modified a little README,man/mlterm.1,doc/ja/README.ja

2003-07-01 Araki Ken <arakiken@users.sf.net>

	* Updated tool/mlconfig/po/de.po.
	  (Thanks to Mike Fabian)

2003-07-01 Araki Ken <arakiken@users.sf.net>

	* Updated tool/mlconfig/po/zh_TW.po.
	  (Thanks to Ambrose Li)

2003-06-30 Araki Ken <arakiken@users.sf.net>

	* Compiled mlcc and pixmap_engine by default.
	* Added sample3 description to doc/en/README.ja and man/mlterm.1.
	* Added sample3 to mc_sb_view.c.

2003-06-29 Araki Ken <arakiken@users.sf.net>

	* If 5380 request is denied as a result of challenge failure,
	  #forbidden is returned.
	* Set "@im=none" as the value of XMODIFIERS by default.
	* Fixed contrib/tool/mlcc/Makefile.in and removed contrib/tool/mlcc/Makefile.
	* Added mlcc to --with-tools in configure.in.

2003-06-29 Seiichi SATO <ssato@sh.rim.or.jp>

	* Renamed entry function name of scrollbar engine to x_*_sb_engine_new.
	* '-export-dynamic' is only used when you specify
	  -with-scrollbars=pixmap_engine.
	* Fixed a description for --with-scrollbars.

2003-06-29  MINAMI Hirokazu  <minami@mistfall.net>

	* re-introduced "mlcc" for as a sample of a configurator
	on the mlterm.

2003-06-29 Araki Ken <arakiken@users.sf.net>

	* Minor fixes of pixmap_engine.c and x_sb_view_factory.c.

2003-06-29 Seiichi SATO <ssato@sh.rim.or.jp>

	* Fixed segfault with scrollbar rcfile which does not specify engine.
	* Added VPATH to Makefile.in of pixmap_engine
	* Minor bugfix of Makefile.in of mlterm-menu.

2003-06-29 Seiichi SATO <ssato@sh.rim.or.jp>

	* Extended an API of scrollbar plugin to load new style scrollbar
	  which has an rcfile.
	* To use x_imagelib_load_file() from plugin side, added
	  '-export-dynamic' to link option.
	* Added 'pixmap_engine' scrollbar library.(depends on imlib or
	  gdk-pixbuf)
	* Added 'sample3' scrollbar to show the usage of pixmap_engine.

2003-06-29 Araki Ken <arakiken@users.sf.net>

	* If a text was folded into multiple lines and one of them were ended with
	  space character, the space character couldn't be selected in copy&paste.
	  Fixed.
	  (Thanks to Sakamoto Hironori san)

2003-06-28 Araki Ken <arakiken@users.sf.net>

	* Added description of -6,--stbs,static_backscroll_mode option to
	  mlterm.1 manual.

2003-06-26 Seiichi SATO <ssato@sh.rim.or.jp>

	* Fixed a installation path for mlterm-menu.
	  ($(DESTDIR)$(sysconfdir) -> $(DESTDIR)$(sysconfdir)/mlterm)
	* Moved "$(INSTALL) -m 644 menu $(SYSCONFDIR)" to install target
	  from mlterm-menu target in Makefile.in.

2003-06-23  Araki Ken <arakiken@users.sf.net>

	* Added authorization mechanism by ~/.mlterm/challenge and
	  revived protocol 5380.

2003-06-23  MINAMI Hirokazu  <minami@mistfall.net>

	* Priority of "text/plain" in XDND is degraded
	so that work around mozilla's buggy DND handling.

2003-06-22  MINAMI Hirokazu  <minami@mistfall.net>

	* Added support of window group.
	
2003-06-22 Araki Ken <arakiken@users.sf.net>

	* 'make distclean' failed. Fixed.
	  (Thanks to Kubota Tomohiro san)

2003-06-21 Araki Ken <arakiken@users.sf.net>

	* kik_conf_io_write() could misunderstand a value string
	  as its key string. Fixed.

2003-06-21 Araki Ken <arakiken@users.sf.net>

	* In some cases, combining characters couldn't be drawn. Fixed.
	  (Thanks to Kubota Tohomiro san)

2003-06-15 Tomohiro KUBOTA <kubota@debian.org>

	* A typo in doc/en/PROTOCOL.

2003-06-14 Araki Ken <arakiken@users.sf.net>

	* Released 2.7.0
	  (rel-2_7_0)

2003-06-14 Tomohiro KUBOTA <kubota@debian.org>

	* Update mlterm.1 for "proto:" prefix.
	* Tiny typo fixes.

2003-06-13 Araki Ken <arakiken@users.sf.net>

	* Supported "proto:" prefix which is a part of shortcut key string
	  and designates its following string as mlterm configuration
	  protocol.

2003-06-13 Araki Ken <arakiken@users.sf.net>

	* If pty device not opened, mlterm died. Fixed.
	  (Thanks to Minami Hirokazu san)

2003-06-11  MINAMI Hirokazu  <minami@mistfall.net>

	* Don't free color cells even if mlterm was compiled with Xft.

2003-06-09 Seiichi SATO <ssato@sh.rim.or.jp>

	* Changed parse_xft_font_name() to allow XftFont name to include
	  hyphens, e.g. "Foo\-Bold-iso10646-1"
	  (Thanks to Ambrose Li)

2003-06-08 Araki Ken <arakiken@users.sf.net>(1.449)

	* Rewritten documentations(doc/en/*,doc/ja/*)

2003-06-08 Araki Ken <arakiken@users.sf.net>

	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=196228 fixed.
	  (Thanks to Sato Seiichi san)
	* Available '\n','\r','\e','\n' chars in key config file.

2003-06-05  MINAMI Hirokazu  <minami@mistfall.net>

	* Icon handling is re-designed.
	 - do not hinder window property anymore
	 - smaller memory consumption
	(Thanks to Tatsuya Kinoshita san and Seiichi SATO san)
	
2003-06-04 Seiichi SATO <ssato@sh.rim.or.jp>

	* Added $CPPFLAGS to CFLAGS.

2003-06-04 Seiichi SATO <ssato@sh.rim.or.jp>

	* Fixed a problem with occuring an incorrect size hint when changing
	  scrollbar. (change the order of x_window_resize() and
	  x_window_set_normal_hints() in x_scrollbar_change_view().)

2003-06-03 Tomohiro KUBOTA <kubota@debian.org>

	* Update man/mlterm.1 (The default of --sb is "true".)

2003-06-03 Araki Ken <arakiken@users.sf.net>

	* Renamed 'ut.name' to 'ut.user' in kik_utmp_sysv.c.
	* Fixed typo in kik_dlfcn.c.
	  (Thanks to Sakamoto Hironori san)

2003-06-03 Araki Ken <arakiken@users.sf.net>

	* Added doc/ja/README.pty
	* Updated doc/ja/README.ja
	* Ctrl+[F2-F4] are assigned to OPEN_PTY,NEXT_PTY,PREV_PTY shortcut by default.
	* If --sb=false is specified, ignored --title and --icon options. Fixed.

2003-06-03  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_imagelib_gdk.c:
	 - support MSBFirst screen
	 - fixed bugs in PseudoColor visual

2003-06-02  MINAMI Hirokazu  <minami@mistfall.net>

	* Removed obsoleted config tools(mlcc/mlconf_curses)
	* xwindow/x_dnd.c: code cleanup
	* xwindow/x_imagelib_imlib.c: added mask support
	* xwindow/x_imagelib_gdk.c: plugged leak
	
2003-05-25 Tomohiro KUBOTA <kubota@debian.org>

	* Japanese translation for a new item in tool/mlconfig/po .
	* Current automatic (locale-sensible) encoding is now shown
	  like "ISO-8859-15" instead of "ISO885915" on mlconfig.

2003-05-25 Seiichi SATO <ssato@sh.rim.or.jp>

	* Added a search path to kiklib/src/.libs/libkik.* for -lkik to
	  mkf/lib/Makefile.in.
	  (Thanks to Kubota Tomohiro san and Minami Hirokazu san)

2003-05-25 Araki Ken <arakiken@users.sf.net>

	* The free'd 'root' could be accessed at close_screen_intern() in x_term_manager.c. Fixed.
	  (Thanks to Minami Hirokazu san)
	* As soon as the child 'make' process exits, the parent one also exits.
	  (Thanks to Minami Hirokazu san)
	* Added 'is_auto_encoding' to doc/en/PROTOCOL.
	  (Thanks to Kubota Tomohiro san)

2003-05-25 Araki Ken <arakiken@users.sf.net>

	* Cursor position could be illegal after a window resized. Fixed.

2003-05-24 Tomohiro KUBOTA <kubota@debian.org>

	* Removed description on -%/--class command option from manpage.
	* Removed non-ASCII (well, seems to be intended to be EUC-JP)
	  characters from this ChangeLog.

2003-05-24 Araki Ken <arakiken@users.sf.net>

	* Fixed set_xdnd_config() in x_screen.c

2003-05-22  MINAMI Hirokazu  <minami@mistfall.net>

	* Removed unused functions from x_window.c.

2003-05-22 Araki Ken <arakiken@users.sf.net>

	* Compilation failed in ml_logical_visual.c. Fixed.
	  (Thanks to Kubota Tomohiro san)

2003-05-20  MINAMI Hirokazu  <minami@mistfall.net>

	* make XDND handler call start/stop_vt100_cmd()
	before/after processing a config sequence.

2003-05-20 Araki Ken <arakiken@users.sf.net>

	* Fixed some problems in resizing window.
	  (Thanks to >>796)

2003-05-19  MINAMI Hirokazu  <minami@mistfall.net>

	* support DND from nautilus's background setting dialog.
	* support application/x-color as DND type and
	reflect the color to the window's background.
	* added lots of debug messages.

	* In DND session, "text/x-mlterm.config" is now preffered
	to other mime types.

2003-05-18 Araki Ken <arakiken@users.sf.net>

	* Renamed x_font_set_x{ft_}font() to x_font_load_x{ft_}font().

2003-05-18  MINAMI Hirokazu  <minami@mistfall.net>

	* Really fixed the XDND bug
	(Thanks to Seiichi SATO san)

2003-05-18 Araki Ken <arakiken@users.sf.net>

	* BEL character after ESC ] ... was ignored. Fixed.

2003-05-18 Araki Ken <arakiken@users.sf.net>

	* Supported ESC [ ? 6 h(relative origin), ESC [ ? 6 l(absolute origin).
	* Supported ESC [ ? 7 h(auto wrap), ESC [ ? 7 l(no auto wrap).

2003-05-18  MINAMI Hirokazu  <minami@mistfall.net>

	* fixed yet another XDND bug.

2003-05-18 Araki Ken <arakiken@users.sf.net>

	* Support cursor control characters possibly anywhere inside escape sequences.

2003-05-18 Araki Ken <arakiken@users.sf.net>

	* If bold font not found in anti-alias mode, pseudo bold processing enabled.
	  (Thanks to >>619)

2003-05-18 Araki Ken <arakiken@users.sf.net>

	* Set adhoc_right_align of bidi_logical_visual off.

2003-05-17  MINAMI Hirokazu  <minami@mistfall.net>

	* mlterm now accepts configuration strings
	through XDND protocol.

2003-05-17 Araki Ken <arakiken@users.sf.net>

	* ml_convert_col_to_char_index() could access invalid characters
	  if BREAK_BOUNDARY flag is set. Fixed.

2003-05-17 Araki Ken <arakiken@users.sf.net>

	* The width of U+300A, (U+300B,) U+301A, U+301B chars changed from
	  "ambiguous" to "wide" for xterm compatibility.
	  (Thanks to Sakamoto Hironori san)

2003-05-17 Araki Ken <arakiken@users.sf.net>

	* Removed -%/--class/app_class.
	* Fixed the behaviors of --name,--title,--icon options.
	  (Thanks to Gareth Jones)
	* x_dnd_process_xxx() functions was declared as x_process_xxx() in x_dnd.h. fixed.

2003-05-16 Araki Ken <arakiken@users.sf.net>

	* The font color of selected region remained reversed
	  when window was resized. Fixed.

2003-05-16 Araki Ken <arakiken@users.sf.net>

	* Cleaned up mlterm/ml_(edit|model|line).[ch].

2003-05-16  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_dnd.c: added a X error handler.

2003-05-15  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_dnd.h, xwindow/x_dnd.c,
	  xwindow/x_window.h,xwindow/x_window.c:
	Major rewrite of the DND subsystem.

2003-05-12  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_dnd.c: added another sanity check so that
	malicious dnd data will be ignored

	* xwindow/x_dnd.c: mlterm could be crashed
	if only one mime-type was provided for a dropped data.

2003-05-12  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_dnd.c: fixed typo

2003-05-11  MINAMI Hirokazu  <minami@mistfall.net>

	* doc/term/mlterm.tc: Removed u[6-9] to make the file smaller.

2003-05-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* configure.in, kiklib/configure.in, mkf/configure.in: added
	  AC_LIBTOOL_WIN32_DLL macro.
	* kiklib/src/Makefile.in: MAJOR increment with a change of
	  kik_dl_open().


2003-05-06  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_dnd.c, xwindow/x_dnd.h : adopt XDnD v5 spec.
	
2003-05-06  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_term_manager.c: plugged memory leak.

2003-05-05  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_imagelib_gdk.c: minor code cleanup

2003-05-05  MINAMI Hirokazu  <minami@mistfall.net>

	* mlterm/ml_vt100_parser.c: The rxvt style background changing
	sequence "ESC ] 49 ; colorname BEL" was not working.

2003-05-05 Araki Ken <arakiken@users.sf.net>

	* Minor fixes around only_use_unicode_font and not_use_unicode_font options.

2003-04-14  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_imagelib_gdk.c:
	 - power of zero was used for color conversion. fixed.

2003-04-13 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_term_manager.c: changed to be more compatible with xterm/rxvt.
	  If "--icon" option was not specified, title name is used for
	  WM_ICON_NAME,

2003-04-13 Seiichi SATO <ssato@sh.rim.or.jp>

	* kiklib/configure.in, kiklib/configure, kiklib/src/Makefile.in,
	  kiklib/src/kik_dlfcn.c, kiklib/src/kik_dlfcn.h,
	  xwindow/x_sb_view_factory.c:
	  - Removed obsolete AC_CYGWIN from kiklib/configure.in. (Thanks to
	    Sakai Masahiro san)
	  - Added AC_CANONICAL_HOST instead of AC_CYGWIN into
	    kiklib/configure.in.
	  - Removed all of "#ifdef __CYGWIN__".
	  - Added a test to define LIB_PREFIX and LIB_SUFFIX.
	  - Changed the arguments of kik_dl_open().

2003-04-10 Seiichi SATO <ssato@sh.rim.or.jp>

	* mkf/lib/Makefile.in, contrib/scrollbar/extra/Makefile.in,
	  contrib/tool/mlterm-menu/Makefile.in, kiklib/src/Makefile.in,
	  kiklib/src/kik_dlfcn.c, mlterm/Makefile.in,
	  scrollbar/sample/Makefile.in, tool/mlclient/Makefile.in,
	  tool/mlconfig/Makefile.in, xwindow/Makefile.in,
	  xwindow/x_sb_view_factory.c:
	  - To compile DLL on Cygwin environment, added "-no-undefined" to
	    libtool option.
	  - Added ".exe" suffix in "clean" target in Makefile.
	  - In case of Cygwin, the dynamic library name is "cygfoo.dll".
	    It's supported now.
	  (Thanks to Sakai Masahiro san)
	  NOTE: To compile mlterm with DLL support on Cygwin, recent libtool is
	  recommended. (--with-libtool=/usr/autotool/devel/bin/libtool)

2003-04-06 Tomohiro KUBOTA <kubota@debian.org>

	* kiklib/src/kik_conf_io.c kik_conf_write_open(): Could not
	  create config file, which caused [save&exit] button of
	  mlconfig could not save config if ~/.mlterm/main didn't
	  exist.
	* man/mlterm.1 and tool/mlconfig/mc_char_encoding.c: added
	  "cp1251" and "cp1255".

2003-04-06 Araki Ken <arakiken@users.sf.net>

	* Added "cp1251" and "cp1255" encodings.

2003-04-06 Araki Ken <arakiken@users.sf.net>

	* The message mlclient -P outputs is easier to understand.

2003-04-05 Tomohiro KUBOTA <kubota@debian.org>

	* Clean up mlterm/ml_vt100_parser.c config_protocol_save(),
	  removed a possibility of free(NULL).

2003-04-02  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_imagelib_gdk.c: fixed another color conversion bug...

2003-04-01  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_imagelib_gdk.c:
	 - last change caused a X error. reverted.
	 - fixed a bug in color conversion.
	
2003-04-01 Tomohiro KUBOTA <kubota@debian.org>

	* tool/mlconfig/mc_char_encoding.c: mlconfig supports "GEORGIAN-PS"
	  and "KOI8-T".
	* tool/mlconfig/main.c: write in the label that "font larger"
	  and "font smaller" doesn't modify (save) configuration files.
	* Updated "po" (gettext) files for the above modification.
	* man/mlterm.1: mentions these two encodings and
	  "-%" and "-$" options.

2003-03-31  MINAMI Hirokazu  <minami@mistfall.net>

	* xwindow/x_imagelib_gdk.c: minor code cleanup.

2003-03-30 Araki Ken <arakiken@users.sf.net>

	* Added "georgian-ps" and "koi8-t" encodings.

2003-03-30 Tomohiro KUBOTA <kubota@debian.org>

	* A patch contributed by Mike Fabian to fix unstability in
	  64 bit platforms, by changing "0" into "NULL".
	* $(SYSCONFDIR)/mlterm/menu was not read even when
	  $(HOME)/.mlterm/menu isn't available.  Fixed.

2003-03-29 Araki Ken <arakiken@users.sf.net>

	* Output cvs revision of ChangeLog by mlterm -v.

2003-03-28 Araki Ken <arakiken@users.sf.net>

	* If a shell exited in a screen, the screen could be closed
	  even if other background ptys left. Fixed.

2003-03-26 Araki Ken <arakiken@users.sf.net>

	* Mlterm died as soon as the shell exited while screen region being selected. Fixed.

2003-03-26 Tomohiro KUBOTA <kubota@debian.org>

	* Updated tool/mlconfig/po/de.po
	  (Thanks to Mike Fabian).

2003-03-25 Tomohiro KUBOTA <kubota@debian.org>

	* Fixed a bug that non-listed colors are not available.
	  (This bug was due to 2003-02-21's oversimplification.)

2003-03-24 Araki Ken <arakiken@users.sf.net>

	* Added -%/--class/app_class option.
	  Fixed the behavior of 'title' and 'name' option.
	  (Thanks to >>283)

2003-03-21 Tomohiro KUBOTA <kubota@debian.org>

	* tool/mlconfig/mc_color.[ch] simplification.
	* Color names are now translatable in mlconfig.
	* Japanese translation of above new translatable items.
	* Encoding change in tool/mlconfig/po/ja.po from UTF-8
	  to EUC-JP for easier editing.

2003-03-20  MINAMI Hirokazu  <minami@lissie.chem.s.u-tokyo.ac.jp>

	* fixed a pixmap cache corruption bug with gdk-pixbuf
	 (Thanks to Kato san and Kubota san)

2003-03-19 Tomohiro KUBOTA <kubota@debian.org>

	* mlconfig to have "save&exit", "apply&exit", "apply", and "cancel"
	  buttons instead of "OK", "apply", and "cancel" buttons.
	  (Thanks to "Nanashi"-san.)
	* Updated "po" (gettext) files for the above modification.

2003-03-16 Tomohiro KUBOTA <kubota@debian.org>

	* mlconfig shows window title of each ptys in pty list.

2003-03-15 Tomohiro KUBOTA <kubota@debian.org>

	* "configure --with-tools --with-scrollbars" didn't compile
	  any tools nor scroll bars.  Now it compiles all tools and
	  scroll bars.

2003-03-15 Araki Ken <arakiken@users.sf.net>

	* Changed doc/en/PROTOCOL format.
	  /dev/... can be specified before key(=value) now.
	* Forbidden config protocol 5380 because of security issues.

2003-03-10 Araki Ken <arakiken@users.sf.net>

	* Added --with-tools,--with-scrollbars options.

2003-03-09 Araki Ken <arakiken@users.sf.net>

	* -M/--menu option was bound to conf_menu_path_1 previously, but is to conf_menu_path_3 now.

2003-03-08 Araki Ken <arakiken@users.sf.net>

	* Removed --with-conf-menu option.
	* Added conf_menu_path_1,conf_menu_path_2,conf_menu_path3 options.
	* Ctrl+Left button launches mlterm-menu by default.

2003-03-08 Tomohiro KUBOTA <kubota@debian.org>

	* "wall_picture = none" in "main" configuration file now means
	  that the user doesn't use wall picture.  Previously, the same
	  configuration caused that mlterm complains "wall picture file
	  none is not found." (xwindow/x_term_manager.c, xwindow/x_screen.c)
	* mlconfig could not output the filename of the selected
	  wall paper, fixed (tool/mlconfig/x_wall_pic.[ch]).  This bug
	  might be introduced in 2003-03-01 and is my fault.
	* Cleaning up tool/mlconfig/mc_bgtype.c, using integer value
	  to store background type instead of string.

2003-03-08 Araki Ken <arakiken@users.sf.net>

	* Added --with-conf-menu option.
	* If Ctrl+F1 pressed continuously on FreeBSD, mlterm died. Fixed.
	  (Thanks to Konosuke Watanabe san)

2003-03-05 Tomohiro KUBOTA <kubota@debian.org>

	* The default BEL mode is "sound", not "none", at the help message.

2003-03-04 Tomohiro KUBOTA <kubota@debian.org>

	* mlconfig outputs "wall_picture = none" when background type
	  is transparent.
	* Added comments for "encoding" items of mlconfig and make these
	  comments and "auto" translatable.
	* Japanese translation of these translatable items.

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* grantpt() could behave unexpectedly because SIGCHLD installed when
	  grantpt() execed. Fixed.

2003-03-02 Tomohiro KUBOTA <kubota@debian.org>

	* Added "New PTY" button for mlconfig.

2003-03-02 MINAMI Hirokazu <minami@mistfall.net>

	* Code cleanup in the gdk-pixbuf module.
	 (gave up "correct" color conversion scheme for the sake of simplicity)

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* Removed is_active[] array in ml_term_manager.c, and each ml_term_t has
	  is_attached flag.

2003-03-02 MINAMI Hirokazu <minami@mistfall.net>

	* fixed a pixmap cache corruption with gdk-pixbuf
	 (Thanks to Sato san and Kubota san)
	
2003-03-02 Araki Ken <arakiken@users.sf.net>

	* The point where column width changed is regarded as the boundary of words.
	  (Now character set is not considered when the boundary of words is searched.)

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* Unswitchable ptys were shown in PTY List of mlconfig. Fixed.

2003-03-02 Tomohiro KUBOTA <kubota@debian.org>

	* Forgot to define N_() in addition to _() in common/c_intl.h .
	  Thanks to Sakamoto Hironori san.

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* Characters whose character sets are the same alone are regarded as one word.

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* If ENCODING option not set, character encoding wasn't detected automatically. Fixed.
	  (Thanks to Kubota Tomohiro san)

2003-03-02 Tomohiro KUBOTA <kubota@debian.org>

	* Fixed tools/mlconfig/mc_flags.[ch] and tools/mlconfig/po/POTFILES.in
	  to enable translation (gettextization) of labels which are handled
	  in mc_flags.[ch] .
	* Updated po files in tools/mlconfig/po .

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* If Backspace -> 0-9 or space pressed continuously, backspace was output twice
	  in some environment. Fixed.

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* Added -$/--mc/click_interval option.
	* Updated libtool to 1.4.3.

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* Mlterm/mlclient hung up if mlclient execed with no options. Fixed.
	  (Thanks to Nakada Nobuyoshi san)

2003-03-02 Seiichi SATO <ssato@sh.rim.or.jp>

	* When the font size is dynamically changed, Enlightenment and FVWM2
	  make an error in the calculation for window size (WMHints). Fixed.
	  (Thanks to Sakamoto Hironori san)

2003-03-02 Araki Ken <arakiken@users.sf.net>

	* Added PREV_PTY shortcut.
	  (Thanks to Minami Hirokazu san)

2003-03-01 Araki Ken <arakiken@users.sf.net>

	* Mlconfig writes changed configs alone to ~/.mlterm/main.
	  (Thanks to Kubota Tomohiro san)
	* Revived conf_menu_path option.
	  (Thanks to Nakada Nobuyoshi san)
	* Mlterm follows the change of _XROOTPMAP_ID.
	  (Thanks to Minami Hirokazu san)
	* "encoding" of mlterm configuration protocol accepts "auto".
	* Mlclient supports quoted string as arguments.
	* Each pty has its own window/icon title name.
	  (Thanks to Nanashi san)

2003-03-01 Tomohiro KUBOTA <kubota@debian.org>

	* Changed the way how to choose pty in mlconfig
	  from button array to combobox, in order to avoid
	  extremely wide mlconfig window when many ptys are
	  opened.

2003-02-27 Tomohiro KUBOTA <kubota@debian.org>

	* Added mc_flush() for buttons of font larger/smaller,
	  full reset, and pty select for mlconfig, so that the
	  change of the configuration is immediately accepted.

2003-02-23  MINAMI Hirokazu  <minami@mistfall.net>

	* REALLY fix the caching bug.

2003-02-23  MINAMI Hirokazu  <minami@mistfall.net>

	* Modifications to the background image were not applied
	  when the wallpaper had been changed.
	  (Thanks to KATO Kazuyoshi san)

2003-02-18 Seiichi SATO <ssato@sh.rim.or.jp>

	* mlclient failed to connect to the server. Fixed.
	  (Thanks to Nanashi san)

2003-02-16 Araki Ken <arakiken@users.sf.net>

	* Mlconfig couldn't apply configuration changes more than once. Fixed.

2003-02-16 Tomohiro KUBOTA <kubota@debian.org>

	* Update manpage (man/mlterm.1) for -0/-9/-@ options.
	* Update manpage for OK/Apply/Cancel buttons and PTY List of mlconfig.

2003-02-15 Araki Ken <arakiken@users.sf.net>

	* Terminals with Arabic,ISCII,vertical writing etc options can be switched
	  by NEXT_PTY in the same Window.

2003-02-15 Araki Ken <arakiken@users.sf.net>

	* Tuned up mlconfig.

2003-02-15 Araki Ken <arakiken@users.sf.net>

	* '\n','\t','\e' special characters can be specified in the value of init_str option.

2003-02-15 Araki Ken <arakiken@users.sf.net>

	* Added -#/--initstr/init_str option.
	  The string specified as this option's value is initially sent to pty.
	* Renamed mlclient prefix option "pty_list" to "-P" / "--ptylist".
	* If -e option is specified after "mlterm /dev/...", the command string
	  following "-e" is sent to the specified "/dev/..." pty.

2003-02-15 Araki Ken <arakiken@users.sf.net>

	* Mlconfig didn't deal with ISO8859-11(TIS620) correctly. Fixed.
	* Mlterm exit(1) if us ascii for the specified encoding not found.

2003-02-12  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Added a cache to x_imagelib_load_file in x_imagelib_gdk.c
	  so that the last used image can be re-generated
	  without reading from the image file again.
	  (for Seiichi SATO san)

2003-2-11 Araki Ken <arakiken@users.sf.net>

	* Mlterm died as soon as the pty in the last window closed even if
	  other background ptys exist. Fixed.
	  (Thanks to Nanashi san)

2003-2-11 Araki Ken <arakiken@users.sf.net>

	* Backscroll mode is automatically exitted if screen is scrolled to the bottom.
	  (Thanks to Murase Masaki san)
	* Mlconfig appears in the correct display even if it is called from the window
	  whose display is different from the default.
	  (Thanks to Minami Hirokazu san and Nakada Nobuyoshi san)

2003-2-11 Araki Ken <arakiken@users.sf.net>

	* mlclient wouldn't die until the new window which mlclient created dies. Fixed.
	  (Thanks to Nanashi san)

2003-2-11 Araki Ken <arakiken@users.sf.net>

	* mlclient accepts "pty_list" and "/dev/..." as the 1st argument.
	  If "pty_list" is specified, mlclient outputs pty lists which are opened.
	  If "/dev/..." is specified, a new window is opened with the specified pty.

2003-2-11 Araki Ken <arakiken@users.sf.net>

	* Renamed -P/--ptys/ptys option to -@/--screens/startup_screens, and
	  added -P/--ptys/startup_ptys option.
	* Added ESC [ 5379 ; select_pty = <dev name> ; BEL and
	  ESC [ 5380 ; pty_list = <dev name> ; BEL
	* Added PTY selection menu to mlconfig.

2003-2-9 Araki Ken <arakiken@users.sf.net>

	* Added zh_TW locale messages to mlconfig.
	  (Thanks to Yaun-Chen Cheng)

2003-2-9 Araki Ken <arakiken@users.sf.net>

	* If you pressed 'U' and 'Z' with arabic kbd, nothing output. Fixed.

2003-2-8 Araki Ken <arakiken@users.sf.net>

	* mlconfig saves configurations in ~/.mlterm/main if OK button pressed.

2003-2-5 MINAMI Hirokazu <minami@chem.s.u-tokyo.ac.jp>
	
	* Added support for depth 8 PseudoColor in gdkpixbuf
	  image processing module.
	
2003-2-3 Araki Ken <arakiken@users.sf.net>

	* Fixed a bug of cursor fg/bg colors.
	* Fixed arguments of ml_iscii_new_lang().
	  (Thanks to Sakamoto Hironori san)

2003-2-2 Araki Ken <arakiken@users.sf.net>

	* Added -9/--crfg/cursor_fg_color,-0/--crbg/cursor_bg_color options.
	  These options specify foreground/background colors of the cursor.
	  If not specified, cursor fg color is default bg color, and vice versa.

2003-2-2 Seiichi SATO <ssato@sh.rim.or.jp>

	* Fixed a bug in alloc_closest_xcolor_pseudo(). (diff_r -> diff_b)
	  (Thanks to Hirokazu Minami san)

2003-2-2 Araki Ken <arakiken@users.sf.net>

	* Added EXT_KBD shortcut in ~/.mlterm/key.
	  This shortcut activate or deactivate arabic or iscii input method.

2003-2-2 Araki Ken <arakiken@users.sf.net>

	* Added --without-map-table,--without-prop-table options to configure.
	  These options remove character mapping table and character property table.

2003-2-1 Araki Ken <arakiken@users.sf.net>

	* Even if log buffer is full, static backscrolling works.
	  (Thanks to Murase Masaki san)
	* Renamed x_keymap to x_shortcut.

2003-1-27 Araki Ken <arakiken@users.sf.net>

	* Mouse position reporting is enabled, selecting region is forced to stop.

2003-1-26 Araki Ken <arakiken@users.sf.net>

	* Each user can start his/her own mlterm server.
	  (Thanks to Nakda Nobuyoshi san)

2003-1-26 MINAMI hirokazu <minami@chem.s.u-tokyo.ac.jp>

	* Fixed a bug in gdk-pixbuf module which prevents gamma correction
	  with pseudo-transparency (Thanks to TAKAHASHI Tamotsu san)
	* Rewrited cache mechanism of background pictures for performance.
	
2003-1-26 Araki Ken <arakiken@users.sf.net>

	* Added -6/--stbs/static_backscroll_mode option, under which backscroll mode
	  isn't reset even if vt100 sequence is output from tty.
	* You can select region even while vt100 sequence is output from tty.

2003-1-13 Araki Ken <arakiken@users.sf.net>

	* config.h.in -> c_config.h.in

2003-1-13 Araki Ken <arakiken@users.sf.net>

	* ml_intl.h -> c_intl.h

2003-1-12 Araki Ken <arakiken@users.sf.net>

	* Multiple 'key=value' pairs separated by ';' can be specified
	  in "ESC ] 5379 ; .... BEL".
	* Newly added "ESC ] 5382 ; ... BEL sequence" and "ESC ] 5383 ; ... BEL sequence".
	  The former sequence saves specified key and value pairs in ~/.mlterm/main,
	  and the latter one sets and saves them at the same time.

2003-1-12 Araki Ken <arakiken@users.sf.net>

	* Cleaned up codes around arabic shaping.
	* Merged gettextize patch.
	  (Thanks to Mike Fabian and Koushi Takahashi san)

2003-1-12 Araki Ken <arakiken@users.sf.net>

	* 2.6.3 released.
	  (rel-2_6_3)

2002-12-16 Seiichi SATO <ssato@sh.rim.or.jp>

	* Applied Minami-san's Xft2 support patch.

2002-12-15 Araki Ken <arakiken@users.sf.net>

	* 2002-12-14 fix was incomplete, that is, copy&paste in the same window failed. fixed.
	  (Thanks to Martin Horcicka)

2002-12-14 Araki Ken <arakiken@users.sf.net>

	* Newline characters in pasted text are converted to carriage return characters.
	  (Thanks to Martin Horcicka)

2002-12-13 Araki Ken <arakiken@users.sf.net>

	* Fixed arabic combining problem.
	  (Thanks to Nadim Shaikli)

2002-12-13 Araki Ken <arakiken@users.sf.net>

	* Fixed a bug in ml_line_fill().
	  (Thanks to Sato Seiichi san)

2002-12-10 Araki Ken <arakiken@users.sf.net>

	* Fixed cursor highlight problem.
	  (Thanks to Martin Horcicka)
	* Added doc/en/FAQ.
	  (Thanks to Nadim Shaikli)

2002-12-6 Araki Ken <arakiken@users.sf.net>

	* utemper wasn't checked correctly in configure. fixed.
	  (Thanks to Mike Fabian)
	* dead key and multi key didn't work. fixed.
	  (Thanks to Martin Horcicka)

2002-11-26 Araki Ken <arakiken@users.sf.net>

	* Improved kik_map.

2002-11-21 Araki Ken <arakiken@users.sf.net>

	* ml_cursor_t::col_in_char was wrong in some situations. fixed.
	  (Thanks to Wang WenRui)

2002-11-16 Araki Ken <arakiken@users.sf.net>

	* Added mkf_utf16_conv.[ch] which generates UTF16 sequence.

2002-11-16 Araki Ken <arakiken@users.sf.net>

	* Added mkf_utf16_parser.[ch] which parses UTF16 sequence.

2002-11-15  MINAMI Hirokazu  <minami@lissie.chem.s.u-tokyo.ac.jp>

	* added support for some lazy WM which does only set a part of
	root image as _XROOTPMAP_ID.
	(Thanks to Wang WenRui)

2002-11-14 Araki Ken <arakiken@users.sf.net>

	* screen->xct_parser->is_eos is replaced by parser->is_eos in x_screen.c:key_pressed().
          (Thanks to Minami Hirokazu san)

2002-11-13  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* In XDND, drop via UCS2 (as "text/unicode") is supported.

2002-11-12  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* XDND code cleanup/separation. added x_dnd.(c|h) .

2002-11-11 Seiichi SATO <ssato@sh.rim.or.jp>

	* Updated config.guess and config.sub.(timestamp='2002-11-08')
	  (Thanks to Kubota Tomohiro san)

2002-11-08  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Rewrited XDND processiong code.
	- INCR (incremantal transfer of huge data) is supported.
	- cleaned up a bit for future separation.
	
2002-11-07 Araki Ken <arakiken@users.sf.net>

	* Default screen size is 80x24 instead of 80x30.
	  (Thanks to Sato Seiichi san)
	* Performance tuning of ml_edit.c.

2002-11-06  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* GBK parser became more robust againt invalid input.
	  (Thanks to Wang WenRui)

2002-11-04  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* UTF8_STRING and COMPOUND_TEXT are now accepted as XDND's mime type.
	
2002-10-16  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Major rewrite of x_imagelib_gdk.c.
	  Now it's only depends on gdk-pixbuf and not gdk-pixbuf-xlib.
	
2002-10-11 Araki Ken <arakiken@users.sf.net>

	* Transparency failed in some situations. fixed.
	  (Thanks to Nanashi san)
	* ml_line_fill() has a buffer overflow bug. fixed.

2002-10-08 Araki Ken <arakiken@users.sf.net>

	* 2.6.2 released
	  (rel-2_6_2)

2002-10-07 Araki Ken <arakiken@users.sf.net>

	* There was some interval between the time when Focus events available and when
	  window really mapped. fixed.
	  (Thanks to Nanashi san)

2002-10-06 Araki Ken <arakiken@users.sf.net>

	* Fixed a bug in deleting multi-byte characters by ESC [ P.

2002-10-06 Araki Ken <arakiken@users.sf.net>

	* ESC [ x sequence is supported.

2002-10-06 Araki Ken <arakiken@users.sf.net>

	* 2002-10-02 fix is discarded.
	  Scrollbar gets never smaller than the maximum possible height / 20.
	  (Thanks to Murase Masaki san)

2002-10-06 Araki Ken <arakiken@users.sf.net>

	* ESC [ S, ESC [ T sequences are supported.

2002-10-06 Araki Ken <arakiken@users.sf.net>

	* If screen was resized too small, it disappeared once, but resized smaller,
	  it appeared again drawn corruptly. fixed.

2002-10-06 Araki Ken <arakiken@users.sf.net>

	* copy_paste_via_ucs option is renamed to receive_string_via_ucs.
	  And if its value is true, strings from XIM as well as from X Selection are
	  converted to UCS once.
	* Even if the value of fade_ratio option was 100, screen was completely redrawn
	  when window focus is switched. fixed.

2002-10-05 Araki Ken <arakiken@users.sf.net>

	* Cleaned up size hint patch(see 2002-08-29) by Sato Seiichi san.
	* If window height was for only one line, where wraparound happened,
	  mlterm died. fixed.

2002-10-02 Araki Ken <arakiken@users.sf.net>

	* If line characters and RTL characters mixed in a line, screen corrupt.
	  Fixed a little.
	  (Thanks to Nadim Shaikli)

2002-10-02 Araki Ken <arakiken@users.sf.net>

	* Scrollbar never get too small even if the value of 'logsize' option
	  is huge.

2002-10-01 Araki Ken <arakiken@users.sf.net>

	* If more than 512 bytes were copy&pasted within a window, the 513th byte
	  was lost. fixed.
	  (Thanks to Nanashi san)

2002-09-29 Araki Ken <arakiken@users.sf.net>

	* Character encoding parser is reset by ESC c sequence.
	  (Thanks to Murase Masaki san)

2002-09-29 Araki Ken <arakiken@users.sf.net>

	* ESC [ I and ESC [ Z sequences are supported.

2002-09-28 Araki Ken <arakiken@users.sf.net>

	* If cursor was placed at a half-width char preceded by a full-width char and
	  the full-width char was deleted by "ESC [ 2 P", the half-width char was also
	  deleted. fixed.
	  (Thanks to Hideki EIRAKU san)

2002-09-28 Araki Ken <arakiken@users.sf.net>

	* "Full reset" button of mlconfig didn't work. fixed.
	  (Thanks to Murase Masaki san)

2002-09-28 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_window_get_visible_geometry() returned width and height of no
	  visible window. fiexd.

2002-09-27 Araki Ken <arakiken@users.sf.net>

	* GDK_PIXBUF_CFLAGS and IMILB_CFLAGS are renamed to IMAGELIB_CFLAGS in
	  tool/mlconfig/Makefile.in.
	  (Thanks to Muto Kenshi san)

2002-09-27 Araki Ken <arakiken@users.sf.net>

	* The last character of a wraparound line was not deleted by BS + ' '. fixed.

2002-09-27 Araki Ken <arakiken@users.sf.net>

	* x_imagelib_*.o linked directly, not via x_imagelib.o.
	  (Thanks to Nobuyoshi Nakada san)

2002-09-20  Nobuyoshi Nakada  <nobu.nokada@softhome.net>

	* kiklib: link kik_pty_*.o and kik_utmp_*.o directly, not via
	  kik_pty.o and kik_utmp.o.

2002-09-17  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Renamed x_picdep_* to x_imagelib_*
	* When image has alpha channel, wallpapers can be patially translucent
	  with gdk-pixbuf imagelib module.
	  (unfinished and not updated poperly yet ...)

2002-09-16  Seiichi SATO <ssato@sh.rim.or.jp>

	* Cleaned up to get rid of compiler warning messages with gcc.

2002-09-16  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Major rewrite of icon handling
	 - Added new members (icon and mask) to struct x_window_t
	 - Actuall icon setting process is now done in x_window.c.
	 - remove icon cache from x_picture_gdk which seems not to be useful.
	
2002-09-15  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	*  x_picdep_load_icon( &data,&pixmap,&mask) is added
	  in gdk-pixbuf module.

2002-09-15 Araki Ken <arakiken@users.sf.net>

	* If cursor is located at the second byte of a multi-byte character,
	  cursor moves strangely, when bce is enabled. fixed.

2002-09-12 Araki Ken <arakiken@users.sf.net>

	* 2.6.1 released
	  (tag "rel-2_6_1")

2002-09-12 Araki Ken <arakiken@users.sf.net>

	* The right-end column was not drawn correctly under anti-alias mode. fixed.
	  (Thanks to Sato Seiichi san)
	* INCDIR macro was wrong. fixed.
	  (Thanks to Nakada Nobuyoshi asn)

2002-09-08 Araki Ken <arakiken@users.sf.net>

	* Screen of logged lines which contains multi byte characters got corrupt. fixed.
	* Tanween characters were ignored when arabic characters shaped. fixed.
	* Added doc/ja/README.confapp.

2002-09-08 Seiichi SATO <ssato@sh.rim.or.jp>

	* Added mlterm-icon-24colors-[12].png for low color depth.

2002-09-08 Araki Ken <arakiken@users.sf.net>

	* OPEN_PTY and OPEN_SCREEN shortcut keys were confused. fixed.
	* mkf_charset_t variable was passed to usascii_font_cs_changed()
	  in x_screen_attach(). fixed.
	* Added --with-imagelib option to mlterm/configure(.in) and
	  removed --enable-imlib, --enable-gdk-pixbuf.

2002-09-07 Araki Ken <arakiken@users.sf.net>

	* 2.6.0 released
	  (tag "rel-2_6_0")

2002-09-07 Araki Ken <arakiken@users.sf.net>

	* Added --with-imagelib=[imlib,gdk-pixbuf1,gdk-pixbuf2]
	  Removed --enable-imlib, --enable-gdk-pixbuf
	  (Thanks to Sato Seiichi san)
	* USPosition bit is set in XSizeHints.flags.
	  (Minami Hirokazu san)

2002-09-07  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* mlterm.tc is now non-shrinked version.
	  It's more accurate but may not compiled.
	  Please modify it to fit <1K .

2002-09-06  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Added mlterm.ti and  mlterm.tc under doc/term/ .

2002-09-06  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Mlterm's default behabior is changed as following
	 - mod_meta_mode is 8bit
	 - kD (sequence for DELETE) is \E[3~
	 - kb (sequence for BS) is ^?
	 - kh (sequence for HOME) is \EOH
	 - @7 (sequence for END) is \EOF

2002-09-05 Araki Ken <arakiken@users.sf.net>

	* Screen gets disordered when new line inserted. fixed.
	  (Thanks to Takahashi Tamotsu san, Sato Seiichi san)

2002-09-04 Araki Ken <arakiken@users.sf.net>

	* cursor moved to the end of line under insert mode. fixed.
	  (Thanks to Nobuyoshi Nakada san)
	
2002-09-04 Araki Ken <arakiken@users.sf.net>

	* String pointed by icon_path in x_term_manager.c is leaked. fixed.
	* doc/en/History is updated.

2002-09-04  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Added documentation of HOME/END support in README.ja and manpage.

2002-09-03 Seiichi SATO <ssato@sh.rim.or.jp>

	* The icons designed for various desktop environments / window managers,
	  such as GNOME, KDE, Window Maker, FVWM and twm, are added.
	  (contrib/icon/*.png)

2002-09-03 Araki Ken <arakiken@users.sf.net>

	* Even if imlib used, screen gets darker as gamma value greater like gdk-pixbuf.
	  (Thanks to Nobuyoshi Nakada san)
	* Documentation around OPEN_SCREEN,OPEN_PTY updated.

2002-09-03 Araki Ken <arakiken@users.sf.net>

	* ml_edit* module cleaned up.
	* some warnings in x_term_manager.c and x_window.c are suppressed.

2002-09-02  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* segmantation fault when no font is available for specified CS.
	  Inplemented woraround(fallback to old codeset)

2002-08-30  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Updated documents.

2002-08-30  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* initialize struct termios by zero because setting
	  random values may cause unexpectable results.

2002-08-29  Seiichi SATO <ssato@sh.rim.or.jp>

	* Fixed incorrect size hints.

2002-08-29  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Fixed possible access violation.

2002-08-29  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Plugged small memory leak.

2002-08-28  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Generalized XDND support. "text/uri-list" is now also accepted.
	
2002-08-28  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* emulate ANSY.SYS's save/restore cursor.
	  (Thanks to Wang WenRui)
	
2002-08-28  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Window icon support is added (require --enable-gdk-pixbuf).
	
2002-08-28  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Compilation failed on Linux glibc 2.1.x because of incomplete langinfo.h.
	  Built-in (dummy) kik_langinfo is now used when CODESET is not defined.
	  (Thanks to Kubota Tomohiro san)
	* background picture was not drawn when pseudo transparency had been
	  turned off. fixed.
	* winsize structure were not fully initialized during pty setup. fixed.
	  (Thanks to Nanashi san)
	* Fixed typos in Changelog.

2002-08-09  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Corrected path for gdk-pixbuf headers.
	* Gtk2's libs are now used by preference when gdk-pixbuf support is enabled.

2002-08-02  Araki Ken <arakiken@users.sf.net>

	* 2002-07-29 (*) problem not still fixed.
	  (Thanks to Minami Hirokazu san)

2002-07-29  Araki Ken <arakiken@users.sf.net>

	* If bce enabled in termcap config, mlterm hung up when multi-byte
	  characters were shown in screen. fixed. (*)
	* NEW_PTY short cut key is renamed to OPEN_SCREEN.
	* OPEN_PTY option is added.

2002-07-15  Tomohiro KUBOTA  <kubota@debian.org>

	* Update background/wall_picture/transparent handling in mlconfig.

2002-07-07  Tomohiro KUBOTA  <kubota@debian.org>

	* Update manpage for -M/-3/-4 command options.
	* Update mlconfig to support Wallpaper contrast and gamma.

2002-07-05  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Code cleanup (xwindow/x_picture_gdk.c).
	 - results of pow() are now cached.
	 - old transparency code is dropped.

2002-07-04  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Enabled command-line option for contrast/gamma
	 when configured with gdk-pixbuf. (Thanks to IWAMOTO Toshihiro san)

2002-07-03  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Added contrast/gamma support to gdk-pixbuf module.

2002-07-04 Araki Ken <arakiken@users.sf.net>

	* -3/--contrast,-4/--gamma options are added.
	  (Thanks to IWAMOTO Toshihiro san and Nakada Nobuyoshi san)
	* the last character of each line cannot be selected by mouse. fixed.

2002-07-03  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* HOME/END key support is added.

2002-07-02  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Minor code cleanup (xwindow/x_decsp_font.c).

2002-07-01  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Background of line characters did not drawn when
	  pseudo transparency is enabled. fixed.
	  (Thanks to Tomohiro KUBOTA san)

2002-06-30  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* Optimized drawing of line chars.

2002-06-29 Araki Ken <arakiken@users.sf.net>

	* -K,--metakey=[mod1-mod5,meta,alt,super,hyper] option is added.
	  This option works the same as rxvt's -mod option.

2002-06-29 Araki Ken <arakiken@users.sf.net>

	* Background of line characters can be transparent when -Y option is specified.

2002-06-28  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* XDnD session was not terminated properly. fixed.

2002-06-25 Araki Ken <arakiken@users.sf.net>

	* XDnD is supported. (Thanks to Minami Hirokazu san)

2002-06-23 Araki Ken <arakiken@users.sf.net>

	* the style of selecting characters in RTL lines is improved.

2002-06-19 Tomohiro KUBOTA <kubota@debian.org>

	* A debug message was displayed by mlconfig even if compiled
	  without DEBUG option; fixed.
	  (Thanks to MINAMI Hirokazu san)

2002-06-16 Araki Ken <arakiken@users.sf.net>

	* 2.5.0 is released.

2002-06-16 Araki Ken <arakiken@users.sf.net>

	* mlterm died if -Y option is specified with -A, -t or -P. fixed.
	  (Thanks to Minami Hirokazu san)

2002-06-15 Araki Ken <arakiken@users.sf.net>

	* if -E iscii was specified, mlterm died. fixed.
	* shaped characters were not shown correctly. fixed.

2002-06-14 Araki Ken <arakiken@users.sf.net>

	* w3mmlconfig is updated.
	* compilation never fails if --enable-utmp option is specified on Cygwin.
	  (Thanks to Sato Seiichi san)

2002-06-13 Araki Ken <arakiken@users.sf.net>

	* If use_dynamic_comb option was dynamically changed over twice, RTL lines
	  were shown correctly and even worse mlterm died. fixed.

2002-06-12 MINAMI Hirokazu <minami@chem.s.u-tokyo.ac.jp>

	* mlcc (new console based config tool) is added.

2002-06-12 Araki Ken <arakiken@users.sf.net>

	* "rows" and "cols" are added to ESC ] 5380 configuration protocol.

2002-06-11 Tomohiro KUBOTA <kubota@debian.org>

	* XIM server could not be changed by using mlconfig; fixed.
	* manpage update for mlconfig.
	* a new sample color configuration file.

2002-06-09 Araki Ken <arakiken@users.sf.net>

	* All characters in line were redrawn if it is modified even a little. fixed.

2002-06-08 Araki Ken <arakiken@users.sf.net>

	* Garbage could be left on the right side of screen.
	  (specially when ut is defined in termcap)
	  fixed.
	* "ESC [ Ps X VT100" sequence is supported.

2002-06-08 Tomohiro KUBOTA <kubota@debian.org>

	* Removed command options from mlconfig which are not
	  needed any more.

2002-06-06 Araki Ken <arakiken@users.sf.net>

	* -K/--maxptys option is removed.
	* Logged lines are not faded when screen is not focused.
	* If 0 is specified as value of -sl option, mlterm died. fixed.

2002-06-05 Tomohiro KUBOTA <kubota@debian.org>

	* renewal of mlconfig.

2002-06-04 Araki Ken <arakiken@users.sf.net>

	* mlterm version number is set as the value of "MLTERM" environmental variable.

2002-06-04 Tomohiro KUBOTA <kubota@debian.org>

	* Widgets for anti-alias and variable-font-width were not
	  displayed in mlconfig, fixed.

2002-06-03 Araki Ken <arakiken@users.sf.net>

	* mlconfig path didn't reflect configure prefix. fixed.
	* w3mmlconfig is updated. (Thanks to Sakamoto Hironori san)

2002-06-03 Araki Ken <arakiken@users.sf.net>

	* multi-column characters were not treated as multi-column in UTF-8 encoding. fixed.
	  (Thanks to Sakamoto Hironori san)
	* If Control Mask is set, mouse position is not reported.
	  (Thanks to Sakamoto Hironori san)
	* mlconfig and mlterm communicate through doc/en/PROTOCOL protocol.
	* mlconfig design is renewed. (Thanks to Kubota Tomohiro san)

2002-05-31 Tomohiro KUBOTA <kubota@debian.org>

	* rewrite manpage for 2002-05-30 changes.

2002-05-30 Araki Ken <arakiken@users.sf.net>

	* string to be output can be defined in ~/.mlterm/key like
	  Control+F1="foobar".
	* rgb of highlighted 8 colors can be defined as hl_{black|white|...}
	  in ~/.mlterm/color.

2002-05-26 Tomohiro KUBOTA <kubota@debian.org>

	* rewrite help message ("mlterm --help").
	* rewrite help message of ./configure script.

2002-05-20 Araki Ken <arakiken@users.sf.net>

	* VPATH was wrong in mlterm/Makefile.in xwindow/Makefile.in. fixed.
	  (Thanks to Nakada Nobuyoshi san)

2002-05-19 Seiichi SATO <ssato@sh.rim.or.jp>

	* x_color.c: alloc_closest_xcolor_pseudo() doesn't free the memory space
	  pointed to by all_colors. fixed.

2002-05-19 Araki Ken <arakiken@users.sf.net>

	* auto pointer was passed to putenv(). fixed.
	  (Thanks to Nakada Nobuyoshi san)

2002-05-19 Araki Ken <arakiken@users.sf.net>

	* display name specified by --display overwrites DISPLAY environment variable.

2002-05-19 Araki Ken <arakiken@users.sf.net>

	* combining characters were not shown with both -bi and -m options. fixed.

2002-05-19 Araki Ken <arakiken@users.sf.net>

	* Unicode characters except 0x00-0x7f could be shown incorrectly. fixed.

2002-05-19 Tomohiro KUBOTA <kubota@debian.org>

	* manpage update: explanations for -H, -J, -Q, -Z, and -q are
	  vastly modified.  Added a chapter of DAEMON MODE.  Keys which
	  are available only in -q mode are noted.
	* Added a new manpage of mlclient.1 .  (man/Makefile.in is also
	  modified to install this new page.)

2002-05-19 Araki Ken <arakiken@users.sf.net>

	* DEC_SPECIAL characters were not shown with -Y,--decsp option. fixed.
	  (Thanks to Kubota Tomohiro san)
	* "RRRRR-BBBBB-GGGG;" style is accepted in color config file for backward
	  compatibility with 2.4.0 or before.
	  (Thanks to Nanashi san)

2002-05-19 Araki Ken <arakiken@users.sf.net>

	* a bug of shaping arabic combining characters is fixed.
	* scrollbar's height was incorrect when screen was revived. fixed.

2002-05-18 Araki Ken <arakiken@users.sf.net>

	* compilation failed if ./configure is done with --disable-shared. fixed.
	  (Thanks to Nadim Shaikli)

2002-05-17 Araki Ken <arakiken@users.sf.net>

	* kik_pty_streams.c is improved.
	  (Thanks to Nadim Shaikli)
	* When base direction is changed from RTL to LTR, garbage is left in screen. fixed.
	  (Thanks to Nadim Shaikli)

2002-05-16 Araki Ken <arakiken@users.sf.net>

	* core dump when illegal color name is specified for fg/bg color. fixed.

2002-05-16 Araki Ken <arakiken@users.sf.net>

	* change of scrollbar foreground and background colors etc is not reflected
	  immediately. fixed.(2002-05-14 fix was incomplete)
        * #RRGGBB format is accepted in "color" config file.
	* ECHOE and ECHOCTL are added to termios.c_lflag.
	  (Thanks to Kitagawa Takurou san and Minami Hirokazu san)

2002-05-15 Araki Ken <arakiken@users.sf.net>

	* Ctrl-H as well as backspace key invokes ML_BACKSPACE shortcut key. fixed.

2002-05-14 Araki Ken <arakiken@users.sf.net>

        * change of fade ratio, fg color and bg color was not reflected immediately. fixed.
	* fg color and bg color are not highlighted by "\E[1m".

2002-05-14 Araki Ken <arakiken@users.sf.net>

	* vt100 core functions and GUI(x window system) functions are separated.
	  (vt100 core functions doesn't depend on any UI)

2002-05-09  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* utmp entry may be left unterminated when login() is used. fixed.

2002-05-07  MINAMI Hirokazu  <minami@chem.s.u-tokyo.ac.jp>

	* stopped dithering for root pixmap
	  which should be already dithered/quantized. (src/ml_picture_gdk.c)

2002-05-05 MINAMI Hirokazu <minami@chem.s.u-tokyo.ac.jp>

	* dithering support for PseudoColor (src/ml_picture_gdk.c).

2002-05-04 Seiichi SATO <ssato@sh.rim.or.jp>

	* Added a mechanism to find the closest color when visual class is
	  PseudoColor or GrayScale. (src/ml_color.c)

2002-05-02 Seiichi SATO <ssato@sh.rim.or.jp>

	* Fixed segfault when destroying a scrollbar in PseudoColor visual.
	  (Thanks to Minami Hirokazu san)

2002-05-01 Tomohiro KUBOTA <kutoba@debian.org>

	* manpage update: termcap file and -y option.

2002-04-30 Araki Ken <arakiken@users.sf.net>

	* etc/termcap format is changed and it is possible to define entries for
	  multiple terminals.
	* ut field(a.k.a bce in terminfo) is added to etc/termcap and --bce option
	  is removed.
	* -ldl is linked to libkik.so.

2002-04-29 MINAMI Hirokazu <minami@chem.s.u-tokyo.ac.jp>

	* Added documentations for background picture processing.
	  (doc/*/README.picdep)

2002-04-28 Tomohiro KUBOTA <kubota@debian.org>

	* Fixed several typos in the manpage.
	* Explanation on "-1" command option in more detail in the manpage.

2002-04-28 Araki Ken <arakiken@users.sf.net>

	* underline can be left as garbage on screen if line space is
	  odd number(1,3,5...). fixed.
	* configure fails with --with-libtool option. fixed.
	  (Thanks to Nakada Nobuyoshi san)

2002-04-27 Araki Ken <arakiken@users.sf.net>

	* kik_utmp_sysv.c patch is merged.
	  (Thanks to Nadim Shaikli)

2002-04-27 Araki Ken <arakiken@users.sf.net>

	* ml_term_model_t is dynamically plugged in ml_term_screen_t from outside,
	  instead of being internally created.
	* ml_sb_view_factory manages reference counter of each library so as not
	  to unload a library which is used by other terminals.
	  (Thanks to Sato Seiichi san)

2002-04-27 Araki Ken <arakiken@users.sf.net>

	* -3,--bce,use_bce=(true|false) option which enables or disables BCE support
	  is added.

2002-04-26 Seiichi SATO <ssato@sh.rim.or.jp>

	* Added stuff for new scrollbar libraries to configure script.

2002-04-26 Tomohiro KUBOTA <kubota@debian.org>

	* The manpage now mentions Sato-san's new scrollbar libraries.
	* Added whitespace after commas and before open parentheses
	  in the manpage.

2002-04-25 Tomohiro KUBOTA <kubota@debian.org>

	* "mlterm -Y" sometimes segfaulted, fixed.
	* Line-drawing characters in "mlterm -Y" had a gap, fixed.

2002-04-24 Tomohiro KUBOTA <kubota@debian.org>

	* Added a note on older changelog information to this file.

2002-04-23 Araki Ken <arakiken@users.sf.net>

	* if ${srcdir} is absolute path, configure fails. fixed.

2002-04-23 Araki Ken <arakiken@users.sf.net>

	* "configure ; make ; make install" process is possible in any directories
	  other than mlterm source directory.
	  (Thanks to Nobuyoshi Nakada san)
	* Please read doc/en/ChangeLog.old for previous changelog information.
	  (This term was written by Tomohiro KUBOTA in 2002-04-24.)

$Id$
