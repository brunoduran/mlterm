comment -*- mode: text -*-
comment $Id$

mlterm configuration protocol
version 20030301

* Protocol
  set              = "\x1b" "]" "5379" ( ";" [ "/dev/..." ":" ] <key> [ "=" <value> ] )* "\x07"
  get(pty)         = "\x1b" "]" "5380" ";" [ "/dev/..." ":" ] <key> "\x07"
  get(GUI menu)    = "\x1b" "]" "5381" ";" [ "/dev/..." ":" ] <key> "\x07"
  save             = "\x1b" "]" "5382" ( ";" [ "/dev/..." ":" ] <key> [ "=" <value> ] )* "\x07"
  set&save         = "\x1b" "]" "5383" ( ";" [ "/dev/..." ":" ] <key> [ "=" <value> ] )* "\x07"
  return value     = "#" <key> "=" <value> "\x0a" | "#error" "\x0a"
  set key          = encoding | fg_color | bg_color | tabsize | logsize |
                     fontsize | fade_ratio | mod_meta_key | mod_meta_mode |
                     bel_mode | use_anti_alias | use_variable_column_width |
                     use_combining | use_transbg | use_bidi |
                     receive_string_via_ucs | xim | wall_picture | full_reset |
                     brightness | gamma | contrast | line_space |
                     screen_width_ratio | screen_height_ratio | vertical_mode |
                     scrollbar_mode | use_multi_column_char |
                     scrollbar_view_name | sb_fg_color | sb_bg_color |
                     iscii_lang | use_dynamic_comb | cursor_fg_color |
                     cursor_bg_color | open_pty | open_screen | select_pty
  get key          = encoding | is_auto_encoding | fg_color | bg_color |
                     tabsize | logsize | fontsize | fade_ratio | mod_meta_key |
                     mod_meta_mode | bel_mode | use_anti_alias |
                     use_variable_column_width | use_combining | use_transbg |
                     use_bidi | receive_string_via_ucs | xim | locale |
                     wall_picture | pwd | brightness | gamma | contrast |
                     line_space | screen_width_ratio | screen_height_ratio |
                     vertical_mode | scrollbar_mode | use_multi_column_char |
                     scrollbar_view_name | sb_fg_color | sb_bg_color |
                     iscii_lang | use_dynamic_comb | rows | cols |
                     cursor_fg_color | cursor_bg_color | pty_list | pty_name
  value            = <values for each key>

* Compatibility with other terminals
  set fg color     = "\x1b" "]" "39" ";" <color name> "\x07"
  set bg color     = "\x1b" "]" "49" ";" <color name> "\x07"
  set picture      = "\x1b" "]" "20" ";" <path> "[" ";" <adjusting> "]" "[" ":" <operation> "]" "\x07"

* Values for each key
  encoding = <encoding name> | auto
  fg_color = <color name> | <color rgb>
  bg_color = <color name> | <color rgb>
  tabsize = <any ASCII decimal digit>
  logsize = <any ASCII decimal digit>
  fontsize = <any ASCII decimal digit> | larger | smaller
  fade_ratio = <any ASCII decimal digit>
  mod_meta_key = none | mod1 | mod2 | mod3 | mod4 | meta | alt | super | hyper
  mod_meta_mode = none | esc | 8bit
  bel_mode = none | sound | visual
  use_anti_alias = true | false
  use_variable_column_width = true | false
  use_combining = true | false
  use_transbg = true | false
  use_bidi = true | false
  receive_string_via_ucs = true | false
  xim = <xim name> ":" <locale name> | <xim name>
  locale = <locale name>
  wall_picture = <file path>
  full_reset = <none>
  pwd = <current working directory>
  brightness = <any ASCII decimal digit>
  gamma = <any ASCII decimal digit>
  contrast = <any ASCII decimal digit>
  line_space = <any ASCII decimal digit>
  screen_width_ratio = <any ASCII decimal digit>
  screen_height_ratio = <any ASCII decimal digit>
  vertical_mode = none | cjk | mongol
  scrollbar_mode = none | left | right
  use_multi_column_char = true | false
  scrollbar_view_name = <name>
  sb_fg_color = <color name> | <color rgb>
  sb_bg_color = <color name> | <color rgb>
  iscii_lang = Assamese | Bengali | Gujarati | Hindi | Kannada | Malayalam |
               Oriya | Punjabi | Roman | Tamil | Telugu
  use_dynamic_comb = true | false
  rows = <any ASCII decimal digit>
  cols = <any ASCII decimal digit>
  cursor_fg_color = <color name> | <color rgb>
  cursor_bg_color = <color name> | <color rgb>
  open_pty = <none>
  open_screen = <none>
  select_pty = <pty dev name>
  pty_list = (<pty dev>:<active flag>;)*
  pty_name = <pty dev> | <pty title>

* Note
  o Encoding names are regularized , that is , `-' , `-' are removed , and only
    upper case letters are used. But encoding names which are not regularized
    can be used in ESC ] 5379 ; encoding= <value> BEL sequence by secondary
    effect.
  o Adjusting and operation arguments of  ESC ] 20 ; pt BEL sequence are not
    used for now.
  o If ESC ] 5379 ; xim= <value> BEL sequence doesn't contain ":" <locale name>
    , current mlterm locale is used.
  o Return value of ESC ] 5380 ; xim BEL is <xim name> only , never <xim name>
    ":" <locale name>.
  o It is configuration programs themselves that search ~/.mlterm/xim and
    ${SYSCONFDIR}/mlterm/xim files for pairs of xim name and its preferable
    locale.
  o If /dev/... specified with 'pty_name' key, <pty title> is returned.
    Otherwise, <pty dev> returned.
